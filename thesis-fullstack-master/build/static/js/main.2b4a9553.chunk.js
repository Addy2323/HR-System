(this["webpackJsonphrms-frontend"]=this["webpackJsonphrms-frontend"]||[]).push([[0],{295:function(e,t,a){},496:function(e,t,a){(function(e,t){!function(){"use strict";"undefined"===typeof e&&(window.global=window),"undefined"===typeof t&&(window.process={env:{},version:"",versions:{},platform:"browser",browser:!0}),"undefined"===typeof globalThis&&(window.globalThis=window)}()}).call(this,a(102),a(268))},501:function(e,t,a){},737:function(e,t,a){"use strict";a.r(t);a(496);var s=a(1),n=a.n(s),r=a(30),i=a.n(r),l=(a(501),a(14)),c=a(49),o=a(25),d=(a(502),a(9));const h="hrms_users",m="hrms_current_user",j="hrms_departments",b="hrms_jobs",p="hrms_employees",u="hrms_applications",x="hrms_payments",O="hrms_expenses",f="hrms_announcements",g="hrms_events",N="hrms_salary_details",y=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(a){return console.error("Error saving to localStorage:",a),!1}},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.error("Error reading from localStorage:",a),t}},w=()=>{if(!v(h)){y(h,[{id:1,username:"admin",email:"admin@hrms.com",password:"admin123",role:"admin",firstName:"Admin",lastName:"User",department:"Information Technology",departmentId:2,position:"System Administrator"},{id:2,username:"manager",email:"manager@hrms.com",password:"manager123",role:"manager",firstName:"John",lastName:"Manager",department:"Human Resources",departmentId:1,position:"HR Manager"},{id:3,username:"employee",email:"employee@hrms.com",password:"employee123",role:"employee",firstName:"Jane",lastName:"Employee",department:"Sales",departmentId:3,position:"Sales Representative"},{id:4,username:"john.doe",email:"john.doe@hrms.com",password:"password123",role:"employee",firstName:"John",lastName:"Doe",department:"Information Technology",departmentId:2,position:"Software Developer"},{id:5,username:"jane.smith",email:"jane.smith@hrms.com",password:"password123",role:"employee",firstName:"Jane",lastName:"Smith",department:"Marketing",departmentId:4,position:"Marketing Specialist"}])}if(!v(j)){const e=[{id:1,departmentName:"Human Resources",description:"HR Department",createdAt:(new Date).toISOString()},{id:2,departmentName:"Information Technology",description:"IT Department",createdAt:(new Date).toISOString()},{id:3,departmentName:"Sales",description:"Sales Department",createdAt:(new Date).toISOString()},{id:4,departmentName:"Marketing",description:"Marketing Department",createdAt:(new Date).toISOString()},{id:5,departmentName:"Finance",description:"Finance Department",createdAt:(new Date).toISOString()}];y(j,e)}if(!v(b)){y(b,[{id:1,title:"Software Developer",department:"Information Technology",salary:"TSh 1,200,000",description:"Develop and maintain software applications"},{id:2,title:"HR Manager",department:"Human Resources",salary:"TSh 1,500,000",description:"Manage human resources operations"},{id:3,title:"Sales Representative",department:"Sales",salary:"TSh 800,000",description:"Handle sales and customer relations"},{id:4,title:"Marketing Specialist",department:"Marketing",salary:"TSh 900,000",description:"Plan and execute marketing campaigns"},{id:5,title:"Accountant",department:"Finance",salary:"TSh 1,000,000",description:"Manage financial records and transactions"}])}if(!v(p)){y(p,[{id:1,firstName:"John",lastName:"Doe",email:"john.doe@hrms.com",phone:"+255 123 456 789",department:"Information Technology",position:"Software Developer",salary:12e5,hireDate:"2023-01-15",status:"active"},{id:2,firstName:"Jane",lastName:"Smith",email:"jane.smith@hrms.com",phone:"+255 987 654 321",department:"Human Resources",position:"HR Manager",salary:15e5,hireDate:"2022-06-10",status:"active"}])}if(!v(u)){const e=[{id:1,employeeId:1,employeeName:"John Doe",type:"Leave",reason:"Annual Leave",startDate:"2024-01-20",endDate:"2024-01-25",status:"pending",createdAt:(new Date).toISOString()}];y(u,e)}if(!v(x)){y(x,[{id:1,employeeId:1,employeeName:"John Doe",amount:12e5,paymentDate:"2024-01-01",paymentType:"Salary",status:"completed"}])}if(!v(O)){y(O,[{id:1,description:"Office Supplies",amount:15e4,category:"Office",date:"2024-01-15",status:"approved"}])}if(!v(f)){const e=[{id:1,title:"Welcome to HRMS",content:"Welcome to the Human Resource Management System. This system now uses localStorage for data persistence.",author:"Admin",createdAt:(new Date).toISOString(),priority:"high"}];y(f,e)}if(!v(N)){y(N,[{id:1,userId:1,employmentType:"Full Time",salaryBasic:8e5,allowanceHouseRent:2e5,allowanceMedical:5e4,allowanceSpecial:1e5,allowanceFuel:75e3,allowancePhoneBill:25e3,allowanceOther:5e4,deductionTax:12e4,deductionOther:3e4},{id:2,userId:2,employmentType:"Full Time",salaryBasic:1e6,allowanceHouseRent:25e4,allowanceMedical:75e3,allowanceSpecial:15e4,allowanceFuel:1e5,allowancePhoneBill:3e4,allowanceOther:75e3,deductionTax:18e4,deductionOther:5e4}])}},S=()=>v(h,[]),D=()=>v(j,[]),C=()=>v(b,[]),I=()=>v(p,[]),M=()=>v(u,[]),A=()=>v(x,[]),T=()=>v(O,[]),E=()=>v(f,[]),k=()=>v(g,[]),L=()=>v(N,[]),P=e=>{const t=S(),a=I(),s=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});t.push(s);const n={id:s.id,firstName:e.firstName,lastName:e.lastName,email:e.email,department:e.department,position:e.position,hireDate:e.hireDate,salary:e.salary,status:e.status||"inactive"};return a.push(n),y(h,t),y(p,a),s},G=e=>{const t=T(),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});return t.push(a),y(O,t),a},B=e=>{const t=E(),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});return t.push(a),y(f,t),a},F=(e,t)=>{const a=M(),s=a.findIndex(t=>t.id===e);return-1!==s?(a[s]=Object(d.a)(Object(d.a)({},a[s]),t),y(u,a),a[s]):null},H=e=>{const t=S(),a=t.findIndex(t=>t.id==e.id);return-1!==a?(t[a]=Object(d.a)(Object(d.a)({},t[a]),e),y(h,t),t[a]):null};var R=a(777),U=a(778),J=a(764),Y=a(24),q=a.n(Y),_=(a(137),a(0));class z extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=e=>{if(e.preventDefault(),this.state.newPassword!==this.state.newPasswordCheck)o.b.error("Passwords don't match.");else{let e=JSON.parse(localStorage.getItem("user")).id;this.state.oldPassword,this.state.newPassword;try{H({id:e,password:this.state.newPassword})?(o.b.success("Password changed successfully."),this.setState({completed:!0})):o.b.error("Failed to change password.")}catch(t){o.b.error("Failed to change password: "+t.message)}}},this.state={oldPassword:"",newPassword:"",newPasswordCheck:null,showAlert:!1,completed:!1,hasError:!1,errMsg:""}}render(){const{showAlert:e,completed:t,hasError:a,errMsg:s}=this.state;return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Change Password"})}),Object(_.jsx)(R.a.Body,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{controlId:"formOldPassword",children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Old Password"}),Object(_.jsx)(U.a.Control,{type:"password",placeholder:"Enter old password",className:"col-6",name:"oldPassword",value:this.state.oldPassword,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formNewPassword",children:[Object(_.jsx)(U.a.Label,{children:"New Password"}),Object(_.jsx)(U.a.Control,{type:"password",placeholder:"Enter new Password",className:"col-6",name:"newPassword",value:this.state.newPassword,onChange:this.handleChange})]}),Object(_.jsxs)(U.a.Group,{controlId:"formNewPasswordCheck",children:[Object(_.jsx)(U.a.Label,{children:"New Password Repeat"}),Object(_.jsx)(U.a.Control,{type:"password",placeholder:"Repeat new Password",className:"col-6",name:"newPasswordCheck",value:this.state.newPasswordCheck,onChange:this.handleChange})]}),Object(_.jsx)(U.a.Text,{className:"mb-3 required",children:" Required Fields"}),Object(_.jsx)(J.a,{variant:"success",type:"submit",children:"Submit"})]})}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}class V extends s.Component{constructor(e){super(e),this.onLogout=e=>{e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("token"),this.setState({completed:!0})},this.newPassword=e=>{e.preventDefault(),this.setState({showModal:!0})},this.state={completed:!1,showModal:!1}}render(){return Object(_.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[this.state.completed?Object(_.jsx)(c.a,{to:"/"}):null,this.state.showModal?Object(_.jsx)(z,{show:!0,onHide:()=>this.setState({showModal:!1})}):null,Object(_.jsx)("ul",{className:"navbar-nav",children:Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsx)("button",{className:"nav-link btn btn-link","data-widget":"pushmenu",type:"button",style:{border:"none",background:"none"},children:Object(_.jsx)("i",{className:"fas fa-bars"})})})}),Object(_.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(_.jsxs)("li",{className:"nav-item dropdown",children:[Object(_.jsxs)("button",{className:"nav-link btn btn-link","data-toggle":"dropdown",type:"button",style:{border:"none",background:"none"},children:[Object(_.jsx)("i",{className:"fas fa-user"}),Object(_.jsx)("span",{className:"pl-1",children:JSON.parse(localStorage.getItem("user")).fullname})]}),Object(_.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right",children:[Object(_.jsx)("span",{className:"dropdown-header",children:"Options"}),Object(_.jsx)("div",{className:"dropdown-divider"}),Object(_.jsxs)("button",{onClick:this.newPassword,className:"dropdown-item btn btn-link",style:{border:"none",background:"none",textAlign:"left",width:"100%"},children:[Object(_.jsx)("i",{className:"fas fa-key mr-2"})," Change Password"]}),Object(_.jsx)("div",{className:"dropdown-divider"}),Object(_.jsxs)("button",{onClick:this.onLogout,className:"dropdown-item btn btn-link",style:{border:"none",background:"none",textAlign:"left",width:"100%"},children:[Object(_.jsx)("i",{className:"fas fa-sign-out-alt mr-2"})," Log out"]})]})]})})]})}}class W extends s.Component{render(){return Object(_.jsxs)("footer",{className:"main-footer",children:[Object(_.jsx)("strong",{className:"mr-1",children:"Copyright \xa9 2025-2026 myambaado@gmail.com."}),"All rights reserved.",Object(_.jsxs)("div",{className:"float-right d-none d-sm-inline-block",children:[Object(_.jsx)("b",{children:"Version"})," 1.0.0"]})]})}}const X=window.$;function $(){X('[data-widget="treeview"]').Treeview("init")}class Z extends s.Component{constructor(e){super(e),this.state={user:{}}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user"));this.setState({user:e}),$()}render(){return Object(_.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(_.jsx)("a",{href:"/",className:"brand-link",children:Object(_.jsx)("span",{className:"brand-text font-weight-light ml-1",children:"HRMS Admin"})}),Object(_.jsxs)("div",{className:"sidebar",children:[Object(_.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(_.jsx)("div",{className:"image",children:Object(_.jsx)("img",{src:"/user-64.png",className:"img-circle elevation-2",alt:"User Image"})}),Object(_.jsx)("div",{className:"info",children:Object(_.jsx)(l.b,{to:"/profile",className:"d-block text-decoration-none",children:this.state.user.fullname||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)||"User"})})]}),Object(_.jsx)("nav",{className:"mt-2",children:Object(_.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(_.jsxs)("p",{children:["Dashboard",Object(_.jsx)("span",{className:"right badge badge-success",children:"Home"})]})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/departments",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-building"}),Object(_.jsx)("p",{children:"Departments"})]})}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-user"}),Object(_.jsxs)("p",{children:["Employee",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/employee-add",className:"nav-link",children:[Object(_.jsx)("i",{className:"fa fa-user-plus nav-icon"}),Object(_.jsx)("p",{children:"Add Employee"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/employee-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-users nav-icon"}),Object(_.jsx)("p",{children:"Employee List"})]})})]})]}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/job-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-briefcase"}),Object(_.jsx)("p",{children:"Job List"})]})}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-rocket"}),Object(_.jsxs)("p",{children:["Applications",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/application",className:"nav-link",children:[Object(_.jsx)("i",{className:"fa fa-plus nav-icon"}),Object(_.jsx)("p",{children:"Add Application"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/application-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-list-ul nav-icon"}),Object(_.jsx)("p",{children:"Application List"})]})})]})]}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-coins"}),Object(_.jsxs)("p",{children:["Payroll Management",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/salary-details",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-coins nav-icon"}),Object(_.jsx)("p",{children:"Manage Salary Details"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/salary-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-users nav-icon"}),Object(_.jsx)("p",{children:"Employee Salary List"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/payment",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-money-check nav-icon"}),Object(_.jsx)("p",{children:"Make Payment"})]})})]})]}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-money-bill"}),Object(_.jsxs)("p",{children:["Expense Management",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/expense",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-shopping-cart nav-icon"}),Object(_.jsx)("p",{children:"Make Expense"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/expense-report",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-file-invoice nav-icon"}),Object(_.jsx)("p",{children:"Expense Report"})]})})]})]}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/announcement",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-bell"}),Object(_.jsx)("p",{children:"Announcements"})]})})]})})]})]})}}class K extends s.Component{constructor(e){super(e),this.state={user:{}}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user"));this.setState({user:e}),$()}render(){return Object(_.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(_.jsx)("a",{href:"/",className:"brand-link",children:Object(_.jsx)("span",{className:"brand-text font-weight-light ml-1",children:"HRMS Manager"})}),Object(_.jsxs)("div",{className:"sidebar",children:[Object(_.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(_.jsx)("div",{className:"image",children:Object(_.jsx)("img",{src:"/user-64.png",className:"img-circle elevation-2",alt:"User Image"})}),Object(_.jsx)("div",{className:"info",children:Object(_.jsx)(l.b,{to:"/profile",className:"d-block text-decoration-none",children:this.state.user.fullname||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)||"User"})})]}),Object(_.jsx)("nav",{className:"mt-2",children:Object(_.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(_.jsxs)("p",{children:["Dashboard",Object(_.jsx)("span",{className:"right badge badge-success",children:"Home"})]})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/employee-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-users"}),Object(_.jsx)("p",{children:"My Employees"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/job-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-briefcase"}),Object(_.jsx)("p",{children:"Job List"})]})}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-rocket"}),Object(_.jsxs)("p",{children:["Applications",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/application",className:"nav-link",children:[Object(_.jsx)("i",{className:"fa fa-plus nav-icon"}),Object(_.jsx)("p",{children:"Add Application"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/application-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-list-ul nav-icon"}),Object(_.jsx)("p",{children:"Application List"})]})})]})]}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-money-bill"}),Object(_.jsxs)("p",{children:["Expense Management",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/expense",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-shopping-cart nav-icon"}),Object(_.jsx)("p",{children:"Make Expense"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/expense-report",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-file-invoice nav-icon"}),Object(_.jsx)("p",{children:"Expense Report"})]})})]})]}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/announcement",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-bell"}),Object(_.jsx)("p",{children:"Announcements"})]})})]})})]})]})}}class Q extends s.Component{constructor(e){super(e),this.state={user:{}}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user"));this.setState({user:e}),$()}render(){return Object(_.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(_.jsx)("a",{href:"/",className:"brand-link",children:Object(_.jsx)("span",{className:"brand-text font-weight-light ml-1",children:"HRMS Employee"})}),Object(_.jsxs)("div",{className:"sidebar",children:[Object(_.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(_.jsx)("div",{className:"image",children:Object(_.jsx)("img",{src:"/user-64.png",className:"img-circle elevation-2",alt:"User Image"})}),Object(_.jsx)("div",{className:"info",children:Object(_.jsx)(l.b,{to:"/profile",className:"d-block text-decoration-none",children:this.state.user.fullname||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)||"User"})})]}),Object(_.jsx)("nav",{className:"mt-2",children:Object(_.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),Object(_.jsxs)("p",{children:["Dashboard",Object(_.jsx)("span",{className:"right badge badge-success",children:"Home"})]})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/salary-view",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fas fa-coins"}),Object(_.jsx)("p",{children:"My Salary Details"})]})}),Object(_.jsxs)("li",{className:"nav-item has-treeview",children:[Object(_.jsxs)(l.b,{to:"/fake-url",className:"nav-link",activeClassName:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-rocket"}),Object(_.jsxs)("p",{children:["Applications",Object(_.jsx)("i",{className:"right fas fa-angle-left"})]})]}),Object(_.jsxs)("ul",{className:"nav nav-treeview",children:[Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/application",className:"nav-link",children:[Object(_.jsx)("i",{className:"fa fa-plus nav-icon"}),Object(_.jsx)("p",{children:"Application"})]})}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{to:"/application-list",className:"nav-link",children:[Object(_.jsx)("i",{className:"fas fa-list-ul nav-icon"}),Object(_.jsx)("p",{children:"My Applications"})]})})]})]}),Object(_.jsx)("li",{className:"nav-item",children:Object(_.jsxs)(l.b,{exact:!0,to:"/announcement",className:"nav-link",children:[Object(_.jsx)("i",{className:"nav-icon fa fa-bell"}),Object(_.jsx)("p",{children:"Announcements"})]})})]})})]})]})}}a(295);class ee extends s.Component{render(){return Object(_.jsxs)("div",{className:"info-box ",children:[Object(_.jsx)("span",{className:"info-box-icon "+this.props.color,children:Object(_.jsx)("i",{className:this.props.icon})}),Object(_.jsxs)("div",{className:"info-box-content",children:[Object(_.jsx)("span",{className:"info-box-text",children:this.props.title}),Object(_.jsx)("span",{className:"info-box-number",children:this.props.description})]})]})}}var te=a(474),ae=a(475),se=a(476),ne=a(39),re=a.n(ne);class ie extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=e=>{if(e.preventDefault(),this.state.startDate>this.state.endDate)o.b.error("End Date should be after Start Date");else{let e=JSON.parse(localStorage.getItem("user")).id;this.setState({event:{eventTitle:this.state.title,eventDescription:this.state.description,eventStartDate:q()(this.state.startDate).format("YYYY-MM-DD HH:mm:ss"),eventEndDate:q()(this.state.endDate).format("YYYY-MM-DD HH:mm:ss"),userId:e}},()=>{try{(e=>{const t=v(g,[]),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});t.push(a),y(g,t)})(this.state.event),this.setState({done:!0}),o.b.success("Event added successfully!")}catch(e){o.b.error("Failed to add event: "+e.message)}})}},this.state={title:"",description:"",startDate:null,endDate:null,event:{},showAlert:!1,done:!1}}render(){const{showAlert:e,done:t}=this.state;return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Add Event"})}),Object(_.jsxs)(R.a.Body,{children:[t?Object(_.jsx)(c.a,{to:"/"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{controlId:"formBasicEmail",children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Title"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter a Title",className:"col-6",name:"title",value:this.state.title,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formBasicPassword",children:[Object(_.jsx)(U.a.Label,{children:"Description"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter a Description",className:"col-6",name:"description",value:this.state.description,onChange:this.handleChange})]}),Object(_.jsxs)(U.a.Group,{controlId:"formStartDate",children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Start Date"}),Object(_.jsx)(re.a,{selected:this.state.startDate,onChange:e=>this.setState({startDate:e}),showTimeSelect:!0,timeFormat:"HH:mm",name:"startDate",timeIntervals:30,timeCaption:"time",dateFormat:"yyyy-MM-dd HH:mm:ss",className:"form-control ml-1",placeholderText:"Select Start Date",autoComplete:"off",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formEndDate",children:[Object(_.jsx)(U.a.Label,{className:"required",children:"End Date"}),Object(_.jsx)(re.a,{selected:this.state.endDate,onChange:e=>this.setState({endDate:e}),showTimeSelect:!0,timeFormat:"HH:mm",name:"endDate",timeIntervals:30,timeCaption:"time",dateFormat:"yyyy-MM-dd HH:mm:ss",className:"form-control ml-3",placeholderText:"Select End Date",autoComplete:"off",required:!0})]}),Object(_.jsx)(U.a.Text,{className:"mb-3 required",children:" Required Fields"}),Object(_.jsx)(J.a,{variant:"success",type:"submit",children:"Submit"})]})]}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}var le=a(478);class ce extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.deleteEvent=e=>{e.preventDefault();try{(e=>{const t=k().filter(t=>t.id!==e);y(g,t)})(this.state.id),this.setState({done:!0}),o.b.success("Event deleted successfully!")}catch(t){o.b.error("Failed to delete event: "+t.message)}},this.onSubmit=e=>{if(e.preventDefault(),this.state.startDate>this.state.endDate)o.b.error("End Date should be after Start Date");else{JSON.parse(localStorage.getItem("user")).id;this.setState({event:{eventTitle:this.state.title,eventDescription:this.state.description,eventStartDate:q()(this.state.startDate).format("YYYY-MM-DD HH:mm:ss"),eventEndDate:q()(this.state.endDate).format("YYYY-MM-DD HH:mm:ss")}},()=>{try{((e,t)=>{const a=k(),s=a.findIndex(t=>t.id===e);-1!==s&&(a[s]=Object(d.a)(Object(d.a)({},a[s]),t),y(g,a),a[s])})(this.state.id,this.state.event),this.setState({done:!0}),o.b.success("Event updated successfully!")}catch(e){o.b.error("Failed to update event: "+e.message)}})}},this.state={title:"",description:"",startDate:null,endDate:null,done:!1}}componentDidMount(){this.setState({id:this.props.data.id,title:this.props.data.title,description:this.props.data.description,startDate:this.props.data.start,endDate:this.props.data.end})}render(){const{showAlert:e,done:t}=this.state;return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Event Details"})}),Object(_.jsxs)(R.a.Body,{children:[t?Object(_.jsx)(c.a,{to:"/"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{controlId:"formBasicEmail",children:[Object(_.jsxs)(U.a.Label,{children:["Title ",Object(_.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter a Title",className:"col-6",name:"title",value:this.state.title,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formBasicPassword",children:[Object(_.jsx)(U.a.Label,{children:"Description"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter a Description",className:"col-6",name:"description",value:this.state.description,onChange:this.handleChange})]}),Object(_.jsxs)(U.a.Group,{controlId:"formStartDate mt-1",children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Start Date"}),Object(_.jsx)(re.a,{selected:this.state.startDate,onChange:e=>this.setState({startDate:e}),showTimeSelect:!0,timeFormat:"HH:mm",name:"startDate",timeIntervals:30,timeCaption:"time",dateFormat:"yyyy-MM-dd HH:mm:ss",className:"form-control ml-1",placeholderText:"Select Start Date",autoComplete:"off",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formEndDate",children:[Object(_.jsx)(U.a.Label,{children:"End Date"}),Object(_.jsx)(re.a,{selected:this.state.endDate,onChange:e=>this.setState({endDate:e}),showTimeSelect:!0,timeFormat:"HH:mm",name:"endDate",timeIntervals:30,timeCaption:"time",dateFormat:"yyyy-MM-dd HH:mm:ss",className:"form-control ml-3",placeholderText:"Select End Date",autoComplete:"off",required:!0})]}),Object(_.jsx)(U.a.Text,{className:"mb-3 required",children:"Required Fields"}),Object(_.jsx)(J.a,{variant:"success",type:"submit",children:"Submit"})]}),Object(_.jsx)(U.a,{onSubmit:this.deleteEvent,children:Object(_.jsx)(J.a,{variant:"danger",type:"submit",className:"mt-2",children:"Delete"})})]}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}class oe extends s.Component{constructor(e){super(e),this._isMounted=!1,this.state={user:{},events:[],showAddModel:!1,showModel:!1,selectedEvent:{}},this.handleEventClick=this.handleEventClick.bind(this)}componentDidMount(){this._isMounted=!0,this._isMounted&&this.setState({user:JSON.parse(localStorage.getItem("user"))},()=>{let e=k().filter(e=>e.userId==this.state.user.id).map(e=>({title:e.eventTitle,description:e.eventDescription,start:e.eventStartDate,end:e.eventEndDate,id:e.id,color:"#007bff",textColor:"white"}));for(var t in e)e[t].start=q()(e[t].start).format("YYYY-MM-DD HH:mm:ss"),e[t].end=q()(e[t].end).format("YYYY-MM-DD HH:mm:ss");this.setState({events:[...e]})})}componentWillUnmount(){this._isMounted=!1}handleEventClick(e){this.setState({selectedEvent:{id:e.event.id,title:e.event.title,description:e.event.extendedProps.description,start:e.event.start,end:e.event.end},showModel:!0})}handleEventPositioned(e){e.el.setAttribute("title",e.event.extendedProps.description?e.event.extendedProps.description:"No description"),le.a.rebuild()}render(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(te.a,{defaultView:"dayGridMonth",plugins:[ae.a,se.a],eventClick:this.handleEventClick,dateClick:()=>this.setState({showAddModel:!0}),events:this.state.events,eventPositioned:this.handleEventPositioned,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},customButtons:{button:{text:"Add Event",click:()=>{this.setState({showAddModel:!0})}}},header:{left:"prev,next today button",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"}}),Object(_.jsx)(ie,{show:this.state.showAddModel,onHide:()=>this.setState({showAddModel:!1})}),this.state.showModel?Object(_.jsx)(ce,{show:!0,onHide:()=>this.setState({showModel:!1}),data:this.state.selectedEvent}):Object(_.jsx)(_.Fragment,{})]})}}var de=a(149);class he extends s.Component{constructor(e){super(e),this.fetchData=()=>{const e=this.generateMockExpenseData(this.state.expenseYear);let t=this.transformData(e),a=this.makeArrayStructure(t);this.setState({chartData:a})},this.generateMockExpenseData=e=>{const t={January:250,February:180,March:320,April:210,May:280,June:350,July:290,August:310,September:270,October:340,November:260,December:300};return["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>({month:e,expenses:t[e]+Math.floor(800*Math.random())}))},this.transformData=e=>(e.forEach(e=>{e.expenses=parseInt(e.expenses)}),e),this.makeArrayStructure=e=>({labels:e.map(e=>e.month),datasets:[{data:[...e.map(e=>e.expenses)],backgroundColor:"#007fad"}]}),this.onChange=e=>{this.setState({expenseYear:e.target.value},()=>{this.fetchData()})},this.state={chartData:{labels:[],datasets:[]},expenseYear:2025},this.onChange=this.onChange.bind(this)}componentDidMount(){this.fetchData()}render(){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsxs)("div",{className:"mt-1",style:{textAlign:"center"},children:[Object(_.jsx)("span",{className:"ml-4",children:"Select Year: "}),Object(_.jsxs)("select",{onChange:this.onChange,value:this.state.expenseYear,children:[Object(_.jsx)("option",{value:"2025",children:"2025"}),Object(_.jsx)("option",{value:"2024",children:"2024"}),Object(_.jsx)("option",{value:"2023",children:"2023"}),Object(_.jsx)("option",{value:"2022",children:"2022"}),Object(_.jsx)("option",{value:"2021",children:"2021"})]})]}),Object(_.jsx)("div",{children:Object(_.jsx)(de.Bar,{data:this.state.chartData,height:300,options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{min:0,stepSize:300}}]}},redraw:!0})})]})}}class me extends s.Component{constructor(e){super(e),this.fetchData=()=>{const e=this.generateMockPaymentData(this.state.paymentYear);let t=this.transformData(e),a=this.makeArrayStructure(t);this.setState({chartData:a})},this.generateMockPaymentData=e=>{const t={January:1500,February:1550,March:1600,April:1580,May:1620,June:1590,July:1640,August:1610,September:1660,October:1630,November:1570,December:1700};return["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>({month:e,expenses:t[e]+Math.floor(1e3*Math.random())}))},this.transformData=e=>(e.forEach(e=>{e.expenses=parseInt(e.expenses)}),e),this.makeArrayStructure=e=>({labels:e.map(e=>e.month),datasets:[{data:[...e.map(e=>e.expenses)],backgroundColor:"#007fad"}]}),this.onChange=e=>{this.setState({paymentYear:e.target.value},()=>{this.fetchData()})},this.state={chartData:{labels:[],datasets:[]},paymentYear:2025},this.onChange=this.onChange.bind(this)}componentDidMount(){this.fetchData()}render(){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsxs)("div",{className:"mt-1",style:{textAlign:"center"},children:[Object(_.jsx)("span",{className:"ml-4",children:"Select Year: "}),Object(_.jsxs)("select",{onChange:this.onChange,value:this.state.paymentYear,children:[Object(_.jsx)("option",{value:"2025",children:"2025"}),Object(_.jsx)("option",{value:"2024",children:"2024"}),Object(_.jsx)("option",{value:"2023",children:"2023"}),Object(_.jsx)("option",{value:"2022",children:"2022"}),Object(_.jsx)("option",{value:"2021",children:"2021"})]})]}),Object(_.jsx)("div",{children:Object(_.jsx)(de.Bar,{data:this.state.chartData,height:300,options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{min:0,stepSize:2e3}}]}},redraw:!0})})]})}}class je extends s.Component{constructor(e){super(e),this._isMounted=!1,this.state={recentApplications:[]}}componentDidMount(){this._isMounted=!0;const e=M().sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5).map(e=>({id:e.id,type:e.type||"Leave",status:e.status||"Pending",user:{fullName:e.employeeName||"Unknown User"}}));this._isMounted&&this.setState({recentApplications:e})}componentWillUnmount(){this._isMounted=!1}render(){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("div",{className:"mt-1",style:{textAlign:"center"}}),Object(_.jsx)("div",{children:Object(_.jsx)("ul",{children:this.state.recentApplications.map(e=>Object(_.jsxs)("li",{style:{listStyle:"none",height:"50px"},className:"mt-1 mb-2",children:[Object(_.jsxs)("h5",{children:[Object(_.jsx)("div",{className:"float-left mr-1",children:Object(_.jsx)("img",{src:"/user-40.png",alt:"User avatar"})}),Object(_.jsxs)("span",{children:[e.user.fullName," "]}),Object(_.jsxs)("small",{children:["(",e.type,")"]}),Object(_.jsx)("div",{className:"float-right mt-2 mr-3",children:Object(_.jsx)("small",{style:{color:"Approved"===e.status?"green":"Rejected"===e.status?"red":"orange"},children:e.status})}),Object(_.jsx)("p",{})]}),Object(_.jsx)("hr",{className:"mt-2 mb-2"})]},e.id))})})]})}}a(466);class be extends s.Component{constructor(e){super(e),this._isMounted=!1,this.state={recentAnnouncements:[]}}componentDidMount(){this._isMounted=!0;const e=E().sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5).map(e=>({id:e.id,announcementTitle:e.title,announcementDescription:e.description,createdAt:e.createdAt||(new Date).toISOString(),department:{departmentName:e.department||"General"}}));this._isMounted&&this.setState({recentAnnouncements:e})}componentWillUnmount(){this._isMounted=!1}render(){const e=["Monday","Tuesday","Wendesday","Thursday","Friday","Saturday","Sunday"],t=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("div",{className:"mt-1",style:{textAlign:"center"}}),Object(_.jsx)("ul",{children:this.state.recentAnnouncements.map(a=>{var s;return Object(_.jsxs)("li",{style:{listStyle:"none"},className:"mb-2 mt-1",children:[Object(_.jsx)("div",{className:"float-left mr-2",children:Object(_.jsxs)("time",{datetime:"2014-09-20",className:"icon p-0",children:[Object(_.jsx)("em",{children:e[new Date(a.createdAt).getDay()]}),Object(_.jsx)("strong",{children:t[new Date(a.createdAt).getMonth()]}),Object(_.jsx)("span",{children:new Date(a.createdAt).getDate()})]})}),Object(_.jsxs)("span",{children:[Object(_.jsx)("strong",{children:a.announcementTitle})," (",(null===(s=a.department)||void 0===s?void 0:s.departmentName)||"General",")"]}),Object(_.jsx)("br",{className:"p-1"}),Object(_.jsx)("small",{children:a.announcementDescription}),Object(_.jsx)("hr",{className:" pt-2 pb-1 mb-0"})]},a.id)})})]})}}const pe=e=>null===e||void 0===e||isNaN(e)?"TSh 0":"TSh ".concat(Number(e).toLocaleString());class ue extends s.Component{constructor(e){super(e),this.state={totalEmployees:0,totalExpenses:0,totalPayments:0,recentApplications:[]}}componentDidMount(){let e=I();if(0===e.length){const t=[{id:1,firstName:"Admin",lastName:"User",department:"IT",salary:12e5},{id:2,firstName:"John",lastName:"Manager",department:"HR",salary:15e5},{id:3,firstName:"Jane",lastName:"Employee",department:"Sales",salary:8e5},{id:4,firstName:"John",lastName:"Doe",department:"IT",salary:11e5},{id:5,firstName:"Jane",lastName:"Smith",department:"Marketing",salary:9e5}];localStorage.setItem("hrms_employees",JSON.stringify(t)),e=t}let t=T();if(0===t.length){const e=[{id:1,amount:25e4,description:"Office Rent",date:"2025-01-15",department:"Administration"},{id:2,amount:8e4,description:"Equipment Purchase",date:"2025-02-10",department:"IT"},{id:3,amount:12e4,description:"Marketing Campaign",date:"2025-03-05",department:"Marketing"},{id:4,amount:6e4,description:"Training Programs",date:"2025-04-20",department:"HR"},{id:5,amount:95e3,description:"Utilities",date:"2025-05-12",department:"Administration"},{id:6,amount:18e4,description:"Software Licenses",date:"2025-06-08",department:"IT"},{id:7,amount:75e3,description:"Travel Expenses",date:"2025-07-15",department:"Sales"},{id:8,amount:11e4,description:"Office Supplies",date:"2025-08-22",department:"Administration"},{id:9,amount:22e4,description:"Equipment Maintenance",date:"2025-09-10",department:"IT"}];localStorage.setItem("hrms_expenses",JSON.stringify(e)),t=e}let a=A();if(0===a.length){const e=[{id:1,amount:15e3,description:"January Salaries",date:"2025-01-31",type:"Salary"},{id:2,amount:15500,description:"February Salaries",date:"2025-02-28",type:"Salary"},{id:3,amount:16e3,description:"March Salaries",date:"2025-03-31",type:"Salary"},{id:4,amount:15800,description:"April Salaries",date:"2025-04-30",type:"Salary"},{id:5,amount:16200,description:"May Salaries",date:"2025-05-31",type:"Salary"},{id:6,amount:1e4,description:"June Salaries",date:"2025-06-30",type:"Salary"},{id:7,amount:1e4,description:"July Salaries",date:"2025-07-31",type:"Salary"},{id:8,amount:161e4,description:"August Salaries",date:"2025-08-31",type:"Salary"},{id:9,amount:1e4,description:"September Salaries",date:"2025-09-30",type:"Salary"}];localStorage.setItem("hrms_payments",JSON.stringify(e)),a=e}const s=e.length,n=t.reduce((e,t)=>e+(t.amount||0),0),r=a.reduce((e,t)=>e+(t.amount||0),0);this.setState({totalEmployees:s,totalExpenses:n,totalPayments:r})}render(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"row pt-4",children:[Object(_.jsx)("div",{className:"col-md-4 col-sm-6 col-xs-12",children:Object(_.jsx)(ee,{title:"Total Employees",description:this.state.totalEmployees,color:"bg-success",icon:"fa fa-users"})}),Object(_.jsx)("div",{className:"col-md-4 col-sm-6 col-xs-12",children:Object(_.jsx)(ee,{title:"Total Expenses",description:pe(this.state.totalExpenses),color:"bg-warning",icon:"fa fa-wallet"})}),Object(_.jsx)("div",{className:"col-md-4 col-sm-6 col-xs-12",children:Object(_.jsx)(ee,{title:"Total Payments",description:pe(this.state.totalPayments),color:"bg-danger",icon:"fa fa-coins"})})]}),Object(_.jsxs)("div",{className:"row pt-4",children:[Object(_.jsxs)("div",{className:"col-sm-6",children:[Object(_.jsx)(oe,{}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Recent Applications"})}),Object(_.jsx)(je,{})]})]}),Object(_.jsxs)("div",{className:"col-md-6",children:[Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Expense Report"})}),Object(_.jsx)(he,{})]}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Payment Report"})}),Object(_.jsx)(me,{})]}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Recent Announcements"})}),Object(_.jsx)(be,{})]})]})]})]})}}class xe extends s.Component{constructor(e){super(e),this.fetchData=()=>{let e=JSON.parse(localStorage.getItem("user")).departmentId;const t=T(),a=S(),s=t.filter(t=>{const s=a.find(e=>e.id==t.userId);return s&&s.departmentId==e}).filter(e=>new Date(e.date).getFullYear()==this.state.expenseYear),n={};s.forEach(e=>{const t=new Date(e.date).getMonth();n[t]||(n[t]=0),n[t]+=parseInt(e.amount||0)});const r=Object.keys(n).map(e=>({month:this.getMonthName(parseInt(e)),expenses:n[e]}));let i=this.makeArrayStructure(r);this.setState({chartData:i})},this.getMonthName=e=>["January","February","March","April","May","June","July","August","September","October","November","December"][e],this.transformData=e=>(e.forEach(e=>{e.expenses=parseInt(e.expenses)}),e),this.makeArrayStructure=e=>({labels:e.map(e=>e.month),datasets:[{data:[...e.map(e=>e.expenses)],backgroundColor:"#007fad"}]}),this.onChange=e=>{this.setState({expenseYear:e.target.value},()=>{this.fetchData()})},this.state={chartData:[],expenseYear:2021},this.onChange=this.onChange.bind(this)}componentDidMount(){this.fetchData()}render(){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsxs)("div",{className:"mt-1",style:{textAlign:"center"},children:[Object(_.jsx)("span",{className:"ml-4",children:"Select Year: "}),Object(_.jsxs)("select",{onChange:this.onChange,value:this.state.expenseYear,children:[Object(_.jsx)("option",{value:"2021",children:"2021"}),Object(_.jsx)("option",{value:"2020",children:"2020"}),Object(_.jsx)("option",{value:"2019",children:"2019"}),Object(_.jsx)("option",{value:"2018",children:"2018"}),Object(_.jsx)("option",{value:"2017",children:"2017"})]})]}),Object(_.jsx)("div",{children:Object(_.jsx)(de.Bar,{data:this.state.chartData,height:300,options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{min:0,stepSize:300}}]}},redraw:!0})})]})}}class Oe extends s.Component{constructor(e){super(e),this._isMounted=!1,this.state={recentApplications:[]}}componentDidMount(){this._isMounted=!0;let e=JSON.parse(localStorage.getItem("user")).departmentId;const t=M(),a=S(),s=t.filter(t=>{const s=a.find(e=>e.id==t.userId);return s&&s.departmentId==e}).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5).map(e=>{const t=a.find(t=>t.id==e.userId);return Object(d.a)(Object(d.a)({},e),{},{user:t?{fullName:t.fullName||"".concat(t.firstName," ").concat(t.lastName)}:{fullName:"Unknown User"}})});this._isMounted&&this.setState({recentApplications:s})}componentWillUnmount(){this._isMounted=!1}render(){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("div",{className:"mt-1",style:{textAlign:"center"}}),Object(_.jsx)("div",{children:Object(_.jsx)("ul",{children:this.state.recentApplications.map(e=>Object(_.jsxs)("li",{style:{listStyle:"none",height:"50px"},className:"mt-1 mb-2",children:[Object(_.jsxs)("h5",{children:[Object(_.jsx)("div",{className:"float-left mr-1",children:Object(_.jsx)("img",{src:"/user-40.png"})}),Object(_.jsxs)("span",{children:[e.user.fullName," "]}),Object(_.jsxs)("small",{children:["(",e.type,")"]}),Object(_.jsx)("div",{className:"float-right mt-2 mr-3",children:Object(_.jsx)("small",{style:{color:"Approved"===e.status?"green":"Rejected"===e.status?"red":"orange"},children:e.status})}),Object(_.jsx)("p",{})]}),Object(_.jsx)("hr",{className:"mt-2 mb-2"})]},e.id))})})]})}}class fe extends s.Component{constructor(e){super(e),this.state={totalEmployees:0,totalExpenses:0,totalPayments:0,recentApplications:[]}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user")).departmentId;const t=S(),a=t.filter(t=>t.departmentId==e);this.setState({totalEmployees:a.length});const s=T().filter(a=>{const s=t.find(e=>e.id==a.userId);return s&&s.departmentId==e});if(s.length>0){const e=s.reduce((e,t)=>e+parseInt(t.amount||0),0);this.setState({totalExpenses:e})}}render(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"row pt-4",children:[Object(_.jsx)("div",{className:"col-md-4 col-sm-6 col-xs-12",children:Object(_.jsx)(ee,{title:"Department Employees",description:this.state.totalEmployees,color:"bg-success",icon:"fa fa-users"})}),Object(_.jsx)("div",{className:"col-md-4 col-sm-6 col-xs-12",children:Object(_.jsx)(ee,{title:"Department Expenses",description:this.state.totalExpenses+" TZS",color:"bg-warning",icon:"fa fa-wallet"})})]}),Object(_.jsxs)("div",{className:"row pt-4",children:[Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsx)(oe,{})}),Object(_.jsxs)("div",{className:"col-md-6",children:[Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Department Expense Report"})}),Object(_.jsx)(xe,{})]}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Recent Applications"})}),Object(_.jsx)(Oe,{})]}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Recent Announcements"})}),Object(_.jsx)(be,{})]})]})]})]})}}class ge extends s.Component{constructor(e){super(e),this._isMounted=!1,this.state={recentApplications:[]}}componentDidMount(){this._isMounted=!0;let e=JSON.parse(localStorage.getItem("user")).id;const t=M().filter(t=>t.userId==e).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5);this._isMounted&&this.setState({recentApplications:t})}componentWillUnmount(){this._isMounted=!1}render(){return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("div",{className:"mt-1",style:{textAlign:"center"}}),Object(_.jsx)("div",{children:Object(_.jsx)("ul",{children:this.state.recentApplications.map(e=>Object(_.jsxs)("li",{style:{listStyle:"none",height:"50px"},className:"mt-1 mb-2",children:[Object(_.jsxs)("h5",{children:[Object(_.jsx)("div",{className:"float-left mr-1",children:Object(_.jsx)("img",{src:"/user-40.png"})}),Object(_.jsxs)("span",{children:[e.user?e.user.fullName:"Unknown User"," "]}),Object(_.jsxs)("small",{children:["(",e.type,")"]}),Object(_.jsx)("div",{className:"float-right mt-2 mr-3",children:Object(_.jsx)("small",{style:{color:"Approved"===e.status?"green":"Rejected"===e.status?"red":"orange"},children:e.status})}),Object(_.jsx)("p",{})]}),Object(_.jsx)("hr",{className:"mt-2 mb-2"})]},e.id))})})]})}}class Ne extends s.Component{constructor(e){super(e),this._isMounted=!1,this.state={recentAnnouncements:[]}}componentDidMount(){this._isMounted=!0;const e=E().sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,5).map(e=>({id:e.id,announcementTitle:e.title,announcementDescription:e.description,createdAt:e.createdAt}));this._isMounted&&this.setState({recentAnnouncements:e})}componentWillUnmount(){this._isMounted=!1}render(){const e=["Monday","Tuesday","Wendesday","Thursday","Friday","Saturday","Sunday"],t=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("div",{className:"mt-1",style:{textAlign:"center"}}),Object(_.jsx)("ul",{children:this.state.recentAnnouncements.map(a=>Object(_.jsxs)("li",{style:{listStyle:"none"},className:"mb-2 mt-1",children:[Object(_.jsx)("div",{className:"float-left mr-2",children:Object(_.jsxs)("time",{datetime:"2014-09-20",className:"icon p-0",children:[Object(_.jsx)("em",{children:e[new Date(a.createdAt).getDay()]}),Object(_.jsx)("strong",{children:t[new Date(a.createdAt).getMonth()]}),Object(_.jsx)("span",{children:new Date(a.createdAt).getDate()})]})}),Object(_.jsx)("span",{children:Object(_.jsx)("strong",{children:a.announcementTitle})}),Object(_.jsx)("br",{className:"p-1"}),Object(_.jsx)("small",{children:a.announcementDescription}),Object(_.jsx)("hr",{className:" pt-2 pb-1 mb-0"})]},a.id))})]})}}var ye=a(781),ve=a(473),we=a(765);class Se extends s.Component{constructor(e){super(e),this.state={user:{},department:{departmentName:null},job:{jobTitle:null},userPersonalInfo:{dateOfBirth:null,gender:null,maritalStatus:null,fatherName:null,country:null,address:null,mobile:null,emailAddress:null},userFinancialInfo:{bankName:null,accountName:null,accountNumber:null,iban:null},falseRedirect:!1,editRedirect:!1}}componentDidMount(){const e=S(),t=D(),a=JSON.parse(localStorage.getItem("user")).id,s=e.find(e=>e.id==a);s&&this.setState({user:s},()=>{const e=t.find(e=>e.id==s.departmentId);if(e&&this.setState({department:{departmentName:e.departmentName}}),s.jobs){s.jobs.map(e=>{new Date(e.startDate)<=Date.now()&&new Date(e.endDate)>=Date.now()&&this.setState({job:{jobTitle:e.jobTitle}})})}(s.dateOfBirth||s.gender||s.maritalStatus||s.fatherName||s.country||s.city||s.address||s.mobile||s.email)&&this.setState({userPersonalInfo:{dateOfBirth:s.dateOfBirth?q()(s.dateOfBirth).format("D MMM YYYY"):null,gender:s.gender,maritalStatus:s.maritalStatus,fatherName:s.fatherName,country:s.country,city:s.city,address:s.address,mobile:s.mobile,emailAddress:s.email}}),(s.bankName||s.accountName||s.accountNumber||s.iban)&&this.setState({userFinancialInfo:{bankName:s.bankName,accountName:s.accountName,accountNumber:s.accountNumber,iban:s.iban}})})}render(){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:"My Profile"}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.job.jobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Personal Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-personal-dashboard",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Date of Birth:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.dateOfBirth})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gender:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.gender})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Marital Status:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.maritalStatus})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Father's Name:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.fatherName})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Contact Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-contact-dashboard",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Location:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.country,", ",this.state.userPersonalInfo.city]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.address})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Mobile:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.mobile," ",this.state.userPersonalInfo.phone?" ("+this.state.userPersonalInfo.phone+")":null]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Email Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.emailAddress})]})]})})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Bank Information"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-bank-dashboard",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Bank Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.bankName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Number:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountNumber})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"IBAN:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.iban})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6})]})]})})]})]})}}class De extends s.Component{constructor(e){super(e),this.state={totalEmployees:0,totalExpenses:0,totalPayments:0,recentApplications:[]}}componentDidMount(){JSON.parse(localStorage.getItem("user")).departmentId}render(){return Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:"row pt-4",children:[Object(_.jsxs)("div",{className:"col-sm-6",children:[Object(_.jsx)(Se,{}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"Recent Announcements"})}),Object(_.jsx)(Ne,{})]})]}),Object(_.jsxs)("div",{className:"col-md-6",children:[Object(_.jsx)(oe,{}),Object(_.jsxs)("div",{className:"panel panel-default",children:[Object(_.jsx)("div",{className:"panel-heading with-border",style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("h3",{className:"panel-title",children:"My Recent Applications"})}),Object(_.jsx)(ge,{})]})]})]})})}}class Ce extends s.Component{render(){return Object(_.jsx)("div",{className:"content-wrapper",children:Object(_.jsx)("section",{className:"content",children:Object(_.jsx)("div",{className:"container-fluid",children:this.props.children})})})}}var Ie=a(776),Me=a(38),Ae=a.n(Me);class Te extends s.Component{constructor(e){super(e),this.onDelete=e=>{e.preventDefault();try{(e=>{const t=I().filter(t=>t.id!==e);y(p,t)})(this.props.data.id),this.setState({redirect:!0}),o.b.success("Employee deleted successfully!")}catch(t){o.b.error("Failed to delete employee: "+t.message)}},this.state={redirect:!1}}render(){return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[this.state.redirect?Object(_.jsx)(c.a,{to:"/employee-list"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),Object(_.jsxs)(R.a.Body,{children:["Are you sure you want to delete Employee: ",this.props.data.fullName]}),Object(_.jsxs)(R.a.Footer,{children:[Object(_.jsx)(J.a,{variant:"danger",onClick:this.onDelete,children:"Delete"}),Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})]})]}))}}var Ee=a(769),ke=a(127);class Le extends s.Component{constructor(e){super(e),this.onView=e=>t=>{t.preventDefault(),this.setState({selectedUser:e,viewRedirect:!0})},this.onEdit=e=>t=>{t.preventDefault(),this.setState({selectedUser:e,editRedirect:!0})},this.onDelete=e=>t=>{t.preventDefault(),this.setState({selectedUser:e,deleteModal:!0})},this.state={users:[],selectedUser:null,viewRedirect:!1,editRedirect:!1,deleteModal:!1}}componentDidMount(){const e=I().map(e=>({id:e.id,fullName:"".concat(e.firstName," ").concat(e.lastName),department:{departmentName:e.department},jobs:[{jobTitle:e.position,startDate:e.hireDate,endDate:"2030-12-31"}],user_personal_info:{mobile:e.phone||"N/A"},active:"active"===e.status,status:e.status||"inactive"}));this.setState({users:e})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-4",children:[this.state.viewRedirect?Object(_.jsx)(c.a,{to:{pathname:"/employee-view",state:{selectedUser:this.state.selectedUser}}}):Object(_.jsx)(_.Fragment,{}),this.state.editRedirect?Object(_.jsx)(c.a,{to:{pathname:"/employee-edit",state:{selectedUser:this.state.selectedUser}}}):Object(_.jsx)(_.Fragment,{}),this.state.deleteModal?Object(_.jsx)(Te,{show:!0,onHide:()=>this.setState({deleteModal:!1}),data:this.state.selectedUser}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)("h4",{children:Object(_.jsx)("a",{className:"fa fa-plus mb-2 ml-2",href:"/employee-add",children:"Add Employee"})}),Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Employee List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"EMP ID",field:"id"},{title:"Full Name",field:"fullName"},{title:"Department",field:"department.departmentName"},{title:"Job Title",field:"jobs",render:e=>e.jobs.map((e,t)=>{if(new Date(e.startDate).setHours(0)<=Date.now()&&new Date(e.endDate).setHours(24)>=Date.now())return e.jobTitle})},{title:"Mobile",field:"user_personal_info.mobile"},{title:"Status",field:"status",render:e=>"active"===e.status?Object(_.jsx)(Ie.a,{pill:!0,variant:"success",children:"Active"}):Object(_.jsx)(Ie.a,{pill:!0,variant:"warning",children:"Inactive"})},{title:"View",render:e=>Object(_.jsx)(U.a,{children:Object(_.jsx)(J.a,{size:"sm",variant:"info",onClick:this.onView(e),children:Object(_.jsx)("i",{className:"far fa-address-card"})})})},{title:"Action",render:e=>Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(J.a,{size:"sm",variant:"info",className:"mr-2",onClick:this.onEdit(e),children:[Object(_.jsx)("i",{className:"far fa-edit"}),"Edit"]}),e.id!==JSON.parse(localStorage.getItem("user")).id?Object(_.jsxs)(J.a,{size:"sm",variant:"danger",className:"ml-1",onClick:this.onDelete(e),children:[Object(_.jsx)("i",{className:"far fa-bin"}),"Delete"]}):Object(_.jsx)(_.Fragment,{})]})}],data:this.state.users,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Employees"})})})]})})]})}}class Pe extends s.Component{constructor(e){super(e),this.onView=e=>t=>{t.preventDefault(),this.setState({selectedUser:e,viewRedirect:!0})},this.onSalaryView=e=>t=>{t.preventDefault(),this.setState({selectedUser:{user:{id:e.id}},viewSalaryRedirect:!0})},this.state={users:[],selectedUser:null,viewRedirect:!1,viewSalaryRedirect:!1,editRedirect:!1,deleteModal:!1}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user")).departmentId;const t=S(),a=D(),s=t.filter(t=>t.departmentId==e).map(e=>{const t=a.find(t=>t.id==e.departmentId);return Object(d.a)(Object(d.a)({},e),{},{fullName:e.fullName||"".concat(e.firstName," ").concat(e.lastName),department:t?{departmentName:t.departmentName}:{departmentName:"Unknown"},user_personal_info:{mobile:e.mobile},active:void 0!==e.active?e.active:1})});this.setState({users:s})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-4",children:[this.state.viewRedirect?Object(_.jsx)(c.a,{to:{pathname:"/employee-view",state:{selectedUser:this.state.selectedUser}}}):Object(_.jsx)(_.Fragment,{}),this.state.viewSalaryRedirect?Object(_.jsx)(c.a,{to:{pathname:"/salary-view",state:{selectedUser:this.state.selectedUser}}}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Employee List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"EMP ID",field:"id"},{title:"Full Name",field:"fullName"},{title:"Department",field:"department.departmentName"},{title:"Job Title",field:"jobs",render:e=>e.jobs&&e.jobs.map((e,t)=>new Date(e.startDate).setHours(0)<=Date.now()&&new Date(e.endDate).setHours(24)>=Date.now()?e.jobTitle:null)},{title:"Mobile",field:"user_personal_info.mobile"},{title:"Status",field:"active",render:e=>e.active?Object(_.jsx)(Ie.a,{pill:!0,variant:"success",children:"Active"}):Object(_.jsx)(Ie.a,{pill:!0,variant:"danger",children:"Inactive"})},{title:"View",render:e=>Object(_.jsxs)(U.a,{children:[Object(_.jsx)(J.a,{size:"sm",variant:"info",onClick:this.onView(e),children:Object(_.jsx)("i",{className:"far fa-address-card"})}),Object(_.jsx)(J.a,{className:"ml-2",size:"sm",variant:"info",onClick:this.onSalaryView(e),children:Object(_.jsx)("i",{className:"fas fa-money-bill-wave"})})]})}],data:this.state.users,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Employees"})})})]})})]})}}class Ge extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.fileSelectedHandler=e=>{this.setState({file:e.target.files[0]})},this.onSubmit=e=>{this.setState({hasError:!1,errorMsg:"",completed:!1});let t={username:this.state.username,password:1234,fullname:this.state.fistname+" "+this.state.lastname,role:this.state.role,departmentId:this.state.departmentId,active:1};e.preventDefault();try{const e=Object(d.a)(Object(d.a)({},t),{},{id:Date.now(),dateOfBirth:this.state.dateOfBirth,gender:this.state.gender,maritalStatus:this.state.maritalStatus,fatherName:this.state.fathername,idNumber:this.state.idNumber,address:this.state.address,city:this.state.city,country:this.state.country,mobile:this.state.mobile,phone:this.state.phone,emailAddress:this.state.email,bankName:this.state.bankName,accountName:this.state.accountName,accountNumber:this.state.accountNumber,iban:this.state.iBan});P(e),o.b.success("Employee has been added successfully!"),this.setState({fistname:"",lastname:"",dateOfBirth:"",gender:"",maritalStatus:"",fathername:"",idNumber:"",bankName:"",accountName:"",accountNumber:"",iBan:"",address:"",country:"",city:"",mobile:null,phone:null,email:"",username:"",password:"",role:"",department:"",departmentId:null,startDate:"",endDate:"",jobTitle:null,joiningDate:"",file:null})}catch(a){o.b.error("Error adding employee: "+a.message)}},this.pushDepartments=()=>{let e=[];return this.state.departments.map((t,a)=>{e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.state={fistname:"",lastname:"",dateOfBirth:"",gender:"",maritalStatus:"",fathername:"",idNumber:"",bankName:"",accountName:"",accountNumber:"",iBan:"",address:"",country:"",city:"",mobile:null,phone:null,email:"",username:"",password:"",role:"",department:"",departmentId:null,startDate:"",endDate:"",departments:[],jobTitle:null,joiningDate:"",file:null,hasError:!1,errMsg:"",completed:!1}}componentDidMount(){const e=D();this.setState({departments:e})}render(){return Object(_.jsx)(U.a,{onSubmit:this.onSubmit,children:Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)(ye.a,{className:"col-sm-12 main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("b",{children:"Add Employee"})}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Personal Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formFirstName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"First Name"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter first Name",name:"fistname",value:this.state.fistname,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formLastName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Last Name"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter last Name",name:"lastname",value:this.state.lastname,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formDateofBirth",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Date of Birth"}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{selected:this.state.dateOfBirth,onChange:e=>this.setState({dateOfBirth:e}),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",timeFormat:"HH:mm",name:"dateOfBirth",timeIntervals:30,timeCaption:"time",dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Date Of Birth",autoComplete:"off",required:!0})})]}),Object(_.jsxs)(U.a.Group,{controlId:"formGender",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Gender"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.gender,onChange:this.handleChange,name:"gender",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:"male",children:"Male"}),Object(_.jsx)("option",{value:"female",children:"Female"})]})]}),Object(_.jsxs)(U.a.Group,{controlId:"formMaritalStatus",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Marital Status"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.maritalStatus,onChange:this.handleChange,name:"maritalStatus",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:"married",children:"Married"}),Object(_.jsx)("option",{value:"single",children:"Single"})]})]}),Object(_.jsxs)(U.a.Group,{controlId:"formFatherName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Father's name"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter Father's Name",name:"fathername",value:this.state.fathername,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formId",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"ID Number"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter ID Number",name:"idNumber",value:this.state.idNumber,onChange:this.handleChange,required:!0})]})]})})]})}),Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Contact Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formPhysicalAddress",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Physical Address"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.address,onChange:this.handleChange,name:"address",placeholder:"Enter Address",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formCountry",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Country"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.country,onChange:this.handleChange,name:"country",placeholder:"Enter Country",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formCity",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"City"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.city,onChange:this.handleChange,name:"city",placeholder:"Enter City",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formMobile",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Mobile"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.mobile,onChange:this.handleChange,name:"mobile",placeholder:"Enter Mobile",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formPhone",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Phone"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.phone,onChange:this.handleChange,name:"phone",placeholder:"Enter Phone"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formEmail",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Email"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.email,onChange:this.handleChange,name:"email",placeholder:"Enter Email",required:!0})]})]})})]})})]}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Bank Information"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formBankName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Bank Name"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.bankName,onChange:this.handleChange,name:"bankName",placeholder:"Enter Bank name"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formAccountName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Account Name"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.accountName,onChange:this.handleChange,name:"accountName",placeholder:"Enter Account name"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formAccountNumber",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Account Number"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.accountNumber,onChange:this.handleChange,name:"accountNumber",placeholder:"Enter Account number"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formIban",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"iBan"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.iBan,onChange:this.handleChange,name:"iBan",placeholder:"Enter Iban"})]})]})})]})}),Object(_.jsxs)("div",{className:"col-sm-6",children:[Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Official Status"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formEmployeeId",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Employee ID"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.username,onChange:this.handleChange,name:"username",placeholder:"Enter Username",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formPassword",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Password"}),Object(_.jsx)(U.a.Control,{type:"password",value:this.state.password,onChange:this.handleChange,name:"password",placeholder:"Enter Password",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formDepartment",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Department"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.departmentId,onChange:this.handleChange,name:"departmentId",required:!0,children:[Object(_.jsx)("option",{value:"",defaultValue:!0,children:"Choose..."}),this.pushDepartments()]})]}),Object(_.jsxs)(U.a.Group,{controlId:"formRole",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Role"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.role,onChange:this.handleChange,name:"role",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:"ROLE_ADMIN",children:"Admin"}),Object(_.jsx)("option",{value:"ROLE_MANAGER",children:"Manager"}),Object(_.jsx)("option",{value:"ROLE_EMPLOYEE",children:"Employee"})]})]})]})})]}),Object(_.jsx)(J.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})]})]}),Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Job"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formJobTitle",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Job Title"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.jobTitle,onChange:this.handleChange,name:"jobTitle",placeholder:"Enter Job Title"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formJobStart",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Start Date"}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{selected:this.state.startDate,onChange:e=>this.setState({startDate:e}),dropdownMode:"select",timeFormat:"HH:mm",name:"startDate",timeCaption:"time",dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Date Of Birth",autoComplete:"off",required:!0})})]}),Object(_.jsxs)(U.a.Group,{controlId:"formJobEnd",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"End Date"}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{selected:this.state.endDate,onChange:e=>this.setState({endDate:e}),dropdownMode:"select",timeFormat:"HH:mm",name:"endDate",timeCaption:"time",dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Date Of Birth",autoComplete:"off"})})]})]})})]})})})]})]})})})}}class Be extends s.Component{constructor(e){super(e),this.onEdit=()=>{this.setState({editRedirect:!0})},this.state={user:{},department:{departmentName:null},job:{jobTitle:null},userPersonalInfo:{dateOfBirth:null,gender:null,maritalStatus:null,fatherName:null,country:null,address:null,mobile:null,emailAddress:null},userFinancialInfo:{bankName:null,accountName:null,accountNumber:null,iban:null},falseRedirect:!1,editRedirect:!1}}componentDidMount(){if(this.props.location.state){const e=S().find(e=>e.id==this.props.location.state.selectedUser.id);e?this.setState({user:e},()=>{if(e.jobs){e.jobs.map(e=>{new Date(e.startDate)<=Date.now()&&new Date(e.endDate)>=Date.now()&&this.setState({job:e})})}e.department&&this.setState({department:e.department}),e.user_personal_info&&(e.user_personal_info.dateOfBirth&&(e.user_personal_info.dateOfBirth=q()(e.user_personal_info.dateOfBirth).format("D MMM YYYY")),this.setState({userPersonalInfo:e.user_personal_info})),e.user_financial_info&&this.setState({userFinancialInfo:e.user_financial_info})}):this.setState({falseRedirect:!0})}else this.setState({falseRedirect:!0})}render(){return Object(_.jsxs)("div",{className:"container-fluid pt-3",children:[this.state.falseRedirect?Object(_.jsx)(c.a,{to:"/"}):Object(_.jsx)(_.Fragment,{}),this.state.editRedirect?Object(_.jsx)(c.a,{to:{pathname:"/employee-edit",state:{selectedUser:this.state.user}}}):null,Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{sm:12,children:Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:["Employee Detail ",Object(_.jsx)(U.a,{className:"float-right",children:Object(_.jsxs)("span",{style:{cursor:"pointer"},onClick:this.onEdit,children:[Object(_.jsx)("i",{className:"far fa-edit"})," Edit"]})})]}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.job.jobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Personal Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-personal",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Date of Birth:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.dateOfBirth})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gender:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.gender})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Marital Status:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.maritalStatus})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Father's Name:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.fatherName})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Contact Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-contact",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Location:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.country,", ",this.state.userPersonalInfo.city]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.address})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Mobile:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.mobile," ",this.state.userPersonalInfo.phone?" ("+this.state.userPersonalInfo.phone+")":null]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Email Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.emailAddress})]})]})})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Bank Information"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-bank",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Bank Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.bankName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Mobile:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountNumber})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"IBAN:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.iban})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6})]})]})})]})]})})})]})}}class Fe extends s.Component{constructor(e){super(e),this.state={user:{},department:{departmentName:null},job:{jobTitle:null},userPersonalInfo:{dateOfBirth:null,gender:null,maritalStatus:null,fatherName:null,country:null,address:null,mobile:null,emailAddress:null},userFinancialInfo:{bankName:null,accountName:null,accountNumber:null,iban:null},falseRedirect:!1,editRedirect:!1}}componentDidMount(){const e=S(),t=D(),a=JSON.parse(localStorage.getItem("user")).id,s=e.find(e=>e.id==a);s&&this.setState({user:s},()=>{const e=t.find(e=>e.id==s.departmentId);if(e&&this.setState({department:{departmentName:e.departmentName}}),s.jobs){s.jobs.map(e=>{new Date(e.startDate)<=Date.now()&&new Date(e.endDate)>=Date.now()&&this.setState({job:{jobTitle:e.jobTitle}})})}(s.dateOfBirth||s.gender||s.maritalStatus||s.fatherName||s.country||s.city||s.address||s.mobile||s.email)&&this.setState({userPersonalInfo:{dateOfBirth:s.dateOfBirth?q()(s.dateOfBirth).format("D MMM YYYY"):null,gender:s.gender,maritalStatus:s.maritalStatus,fatherName:s.fatherName,country:s.country,city:s.city,address:s.address,mobile:s.mobile,emailAddress:s.email}}),(s.bankName||s.accountName||s.accountNumber||s.iban)&&this.setState({userFinancialInfo:{bankName:s.bankName,accountName:s.accountName,accountNumber:s.accountNumber,iban:s.iban}})})}render(){return Object(_.jsx)("div",{className:"container-fluid pt-3",children:Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{sm:12,children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:"My Profile"}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.job.jobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Personal Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-personal",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Date of Birth:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.dateOfBirth})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gender:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.gender})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Marital Status:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.maritalStatus})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Father's Name:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.fatherName})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Contact Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-contact",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Location:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.country,", ",this.state.userPersonalInfo.city]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.address})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Mobile:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.mobile," ",this.state.userPersonalInfo.phone?" ("+this.state.userPersonalInfo.phone+")":null]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Email Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.emailAddress})]})]})})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Bank Information"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-bank",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Bank Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.bankName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Number:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountNumber})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"IBAN:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.iban})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6})]})]})})]})]})})})})}}class He extends s.Component{constructor(e){super(e),this.onEdit=()=>{this.setState({editRedirect:!0})},this.state={user:{id:null,fullName:null,role:null},department:{departmentName:null},job:{jobTitle:null},userPersonalInfo:{dateOfBirth:null,gender:null,maritalStatus:null,fatherName:null,country:null,city:null,address:null,mobile:null,phone:null,emailAddress:null},userFinancialInfo:{bankName:null,accountName:null,accountNumber:null,iban:null},falseRedirect:!1,editRedirect:!1}}componentDidMount(){if(this.props.location.state){const e=S(),t=D(),a=e.find(e=>e.id==this.props.location.state.selectedUser.id);a?this.setState({user:a},()=>{const e=t.find(e=>e.id==a.departmentId);if(e&&this.setState({department:{departmentName:e.departmentName}}),a.jobs){a.jobs.map(e=>{new Date(e.startDate)<=Date.now()&&new Date(e.endDate)>=Date.now()&&this.setState({job:{jobTitle:e.jobTitle}})})}(a.dateOfBirth||a.gender||a.maritalStatus||a.fatherName||a.country||a.city||a.address||a.mobile||a.phone||a.email)&&this.setState({userPersonalInfo:{dateOfBirth:a.dateOfBirth?q()(a.dateOfBirth).format("D MMM YYYY"):null,gender:a.gender,maritalStatus:a.maritalStatus,fatherName:a.fatherName,country:a.country,city:a.city,address:a.address,mobile:a.mobile,phone:a.phone,emailAddress:a.email}}),(a.bankName||a.accountName||a.accountNumber||a.iban)&&this.setState({userFinancialInfo:{bankName:a.bankName,accountName:a.accountName,accountNumber:a.accountNumber,iban:a.iban}})}):this.setState({falseRedirect:!0})}else this.setState({falseRedirect:!0})}render(){return Object(_.jsxs)("div",{className:"container-fluid pt-3",children:[this.state.falseRedirect?Object(_.jsx)(c.a,{to:"/"}):Object(_.jsx)(_.Fragment,{}),this.state.editRedirect?Object(_.jsx)(c.a,{to:{pathname:"/employee-edit",state:{selectedUser:this.state.user}}}):null,Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{sm:12,children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:"Employee Detail "}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.job.jobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Personal Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-personal",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Date of Birth:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.dateOfBirth})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gender:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.gender})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Marital Status:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.maritalStatus})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Father's Name:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.fatherName})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card emp-view",children:[Object(_.jsx)(ye.a.Header,{children:"Contact Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-contact",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Location:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.country,", ",this.state.userPersonalInfo.city]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.address})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Mobile:"}),Object(_.jsxs)("span",{children:[this.state.userPersonalInfo.mobile," ",this.state.userPersonalInfo.phone?" ("+this.state.userPersonalInfo.phone+")":null]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Email Address:"}),Object(_.jsx)("span",{children:this.state.userPersonalInfo.emailAddress})]})]})})]})})]}),Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Bank Information"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"emp-view-bank",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Bank Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.bankName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Name:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountName})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Account Number:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.accountNumber})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"IBAN:"}),Object(_.jsx)("span",{children:this.state.userFinancialInfo.iban})]})]})})]})})})]})})]})]})})})]})}}var Re=a(779);class Ue extends s.Component{constructor(e){super(e),this.handleChangeUser=e=>{const{value:t,name:a}=e.target;this.setState(e=>({user:Object(d.a)(Object(d.a)({},e.user),{},{[a]:t})}))},this.handleChangeJob=e=>{const{value:t,name:a}=e.target;this.setState(e=>({job:Object(d.a)(Object(d.a)({},e.job),{},{[a]:t})}))},this.handleChangeDepartment=e=>{const{value:t,name:a}=e.target;this.setState(e=>({department:Object(d.a)(Object(d.a)({},e.department),{},{[a]:t})}))},this.handleChangeUserPersonal=e=>{const{value:t,name:a}=e.target;this.setState(e=>({userPersonalInfo:Object(d.a)(Object(d.a)({},e.userPersonalInfo),{},{[a]:t})}))},this.handleChangeUserFinancial=e=>{const{value:t,name:a}=e.target;this.setState(e=>({userFinancialInfo:Object(d.a)(Object(d.a)({},e.userFinancialInfo),{},{[a]:t})}))},this.pushDepartments=()=>{let e=[];return this.state.departments.map((t,a)=>{e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.onSubmit=e=>{e.preventDefault(),this.setState({hasError:!1,errorMsg:"",completed:!1});let t={fullName:this.state.user.fullName,role:this.state.user.role,departmentId:this.state.user.departmentId,active:this.state.user.active};try{const e=Object(d.a)(Object(d.a)({},t),{},{id:this.state.user.id,dateOfBirth:this.state.userPersonalInfo.dateOfBirth?q()(this.state.userPersonalInfo.dateOfBirth).format("YYYY-MM-DD"):null,gender:this.state.userPersonalInfo.gender,maritalStatus:this.state.userPersonalInfo.maritalStatus,fatherName:this.state.userPersonalInfo.fatherName,idNumber:this.state.userPersonalInfo.idNumber,address:this.state.userPersonalInfo.address,city:this.state.userPersonalInfo.city,country:this.state.userPersonalInfo.country,mobile:this.state.userPersonalInfo.mobile,phone:this.state.userPersonalInfo.phone,emailAddress:this.state.userPersonalInfo.emailAddress,bankName:this.state.userFinancialInfo.bankName,accountName:this.state.userFinancialInfo.accountName,accountNumber:this.state.userFinancialInfo.accountNumber,iban:this.state.userFinancialInfo.iban});H(e),this.setState({completed:!0})}catch(a){this.setState({hasError:!0,errMsg:a.message})}},this.state={user:{id:null,fullName:"",role:null,active:null,departmentId:null},userPersonalInfo:{id:null,dateOfBirth:null,gender:"",maritalStatus:"",fatherName:"",idNumber:"",address:"",city:"",country:"",mobile:"",phone:null,emailAddress:""},userFinancialInfo:{id:null,bankName:"",accountName:"",accountNumber:"",iban:""},department:{departmentId:null,departmentName:null},departments:[],job:{id:null,jobTitle:null,startDate:null,endDate:null},hasError:!1,errMsg:"",completed:!1,falseRedirect:!1}}componentDidMount(){if(this.props.location.state){const e=S().find(e=>e.id==this.props.location.state.selectedUser.id);e&&this.setState({user:{id:e.id,fullName:e.fullName||"".concat(e.firstName," ").concat(e.lastName),role:e.role,active:e.active,departmentId:e.departmentId},userPersonalInfo:{dateOfBirth:e.dateOfBirth?q()(e.dateOfBirth).toDate():null,gender:e.gender||"",maritalStatus:e.maritalStatus||"",fatherName:e.fatherName||"",idNumber:e.idNumber||"",address:e.address||"",city:e.city||"",country:e.country||"",mobile:e.mobile||"",phone:e.phone||"",emailAddress:e.emailAddress||e.email||""},userFinancialInfo:{bankName:e.bankName||"",accountName:e.accountName||"",accountNumber:e.accountNumber||"",iban:e.iban||""}});const t=D();this.setState({departments:t})}else this.setState({falseRedirect:!0})}render(){return null===this.state.user.id||null===this.state.userPersonalInfo.id||null===this.state.userFinancialInfo.id?Object(_.jsx)("p",{children:"Loading..."}):Object(_.jsx)(U.a,{onSubmit:this.onSubmit,children:Object(_.jsxs)("div",{className:"row",children:[this.state.falseRedirect?Object(_.jsx)(c.a,{to:"/"}):null,this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):this.state.completed?Object(_.jsx)(c.a,{to:"employee-list"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(ye.a,{className:"col-sm-12 main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("b",{children:"Add Employee"})}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Personal Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formFullName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Full Name"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter first Name",name:"fullName",value:this.state.user.fullName,onChange:this.handleChangeUser,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formDateofBirth",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Date of Birth"}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{selected:this.state.userPersonalInfo.dateOfBirth,onChange:e=>this.setState(t=>({userPersonalInfo:Object(d.a)(Object(d.a)({},t.userPersonalInfo),{},{dateOfBirth:e})})),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",name:"dateOfBirth",dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Date Of Birth",autoComplete:"off",required:!0})})]}),Object(_.jsxs)(U.a.Group,{controlId:"formGender",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Gender"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.userPersonalInfo.gender,onChange:this.handleChangeUserPersonal,name:"gender",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:"Male",children:"Male"}),Object(_.jsx)("option",{value:"Female",children:"Female"})]})]}),Object(_.jsxs)(U.a.Group,{controlId:"formMaritalStatus",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Marital Status"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.userPersonalInfo.maritalStatus,onChange:this.handleChangeUserPersonal,name:"maritalStatus",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:"Married",children:"Married"}),Object(_.jsx)("option",{value:"Single",children:"Single"})]})]}),Object(_.jsxs)(U.a.Group,{controlId:"formFatherName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Father's name"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter Father's Name",name:"fatherName",value:this.state.userPersonalInfo.fatherName,onChange:this.handleChangeUserPersonal,required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formId",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"ID Number"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter ID Number",name:"idNumber",value:this.state.userPersonalInfo.idNumber,onChange:this.handleChangeUserPersonal,required:!0})]})]})})]})}),Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Contact Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formPhysicalAddress",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Physical Address"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userPersonalInfo.address,onChange:this.handleChangeUserPersonal,name:"address",placeholder:"Enter Address",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formCountry",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Country"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userPersonalInfo.country,onChange:this.handleChangeUserPersonal,name:"country",placeholder:"Enter Country",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formCity",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"City"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userPersonalInfo.city,onChange:this.handleChangeUserPersonal,name:"city",placeholder:"Enter City",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formMobile",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Mobile"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userPersonalInfo.mobile,onChange:this.handleChangeUserPersonal,name:"mobile",placeholder:"Enter Mobile",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formPhone",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Phone"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userPersonalInfo.phone||"",onChange:this.handleChangeUserPersonal,name:"phone",placeholder:"Enter Phone"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formEmail",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Email"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userPersonalInfo.emailAddress,onChange:this.handleChangeUserPersonal,name:"emailAddress",placeholder:"Enter Email",required:!0})]})]})})]})})]}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Bank Information"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formBankName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Bank Name"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userFinancialInfo.bankName,onChange:this.handleChangeUserFinancial,name:"bankName",placeholder:"Enter Bank name"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formAccountName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Account Name"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userFinancialInfo.accountName,onChange:this.handleChangeUserFinancial,name:"accountName",placeholder:"Enter Account name"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formAccountNumber",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Account Number"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userFinancialInfo.accountNumber,onChange:this.handleChangeUserFinancial,name:"accountNumber",placeholder:"Enter Account number"})]}),Object(_.jsxs)(U.a.Group,{controlId:"formIban",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"IBAN "}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.userFinancialInfo.iban,onChange:this.handleChangeUserFinancial,name:"iban",placeholder:"Enter Iban"})]})]})})]})}),Object(_.jsxs)("div",{className:"col-sm-6",children:[Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Official Status"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{controlId:"formEmployeeId",children:[Object(_.jsx)(U.a.Label,{className:"text-muted",children:"Employee ID"}),Object(_.jsx)("div",{children:this.state.user.username})]}),Object(_.jsxs)(U.a.Group,{controlId:"formDepartment",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Department"}),Object(_.jsx)(U.a.Control,{as:"select",value:this.state.user.departmentId,onChange:this.handleChangeUser,name:"departmentId",required:!0,children:this.pushDepartments()})]}),Object(_.jsxs)(U.a.Group,{controlId:"formRole",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Role"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.user.role||"",onChange:this.handleChangeUser,name:"role",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:"ROLE_EMPLOYEE",children:"Employee"}),Object(_.jsx)("option",{value:"ROLE_MANAGER",children:"Manager"}),Object(_.jsx)("option",{value:"ROLE_ADMIN",children:"Admin"})]})]}),Object(_.jsxs)(U.a.Group,{controlId:"formActive",children:[Object(_.jsx)(U.a.Label,{className:"text-muted required",children:"Status"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.user.active,onChange:this.handleChangeUser,name:"active",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose..."}),Object(_.jsx)("option",{value:!1,children:"Inactive"}),Object(_.jsx)("option",{value:!0,children:"Active"})]})]})]})})]}),Object(_.jsx)(J.a,{variant:"primary",type:"submit",block:!0,children:"Submit"})]})]})]})]})]})})}}class Je extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=e=>{e.preventDefault(),this.setState({hasError:!1,errorMsg:"",completed:!1});let t={name:this.state.departmentName,description:"".concat(this.state.departmentName," Department")};try{(e=>{const t=D(),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});t.push(a),y(j,t)})(t),this.setState({departmentName:"",hasError:!1,errMsg:""}),o.b.success("Department added successfully!")}catch(a){o.b.error("Failed to add department. Department might already exist."),window.scrollTo(0,0)}},this.state={departmentName:"",hasError:!1,errMsg:"",completed:!1}}render(){return Object(_.jsxs)(ye.a,{className:"mb-3 secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("b",{children:"Add Department"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{controlId:"formDepartmentName",children:[Object(_.jsx)(U.a.Label,{className:"text-muted mb-2",children:"Department Name"}),Object(_.jsx)(U.a.Control,{type:"text",placeholder:"Enter Department Name",name:"departmentName",style:{width:"50%"},value:this.state.departmentName,onChange:this.handleChange,required:!0})]}),Object(_.jsx)(J.a,{variant:"primary",type:"submit",className:"mt-2",children:"Add"})]})})})]})}}class Ye extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=e=>{e.preventDefault();let t={departmentName:this.state.departmentName};try{((e,t)=>{const a=D(),s=a.findIndex(t=>t.id===e);-1!==s&&(a[s]=Object(d.a)(Object(d.a)({},a[s]),t),y(j,a),a[s])})(this.state.id,t),this.setState({done:!0}),o.b.success("Department updated successfully!")}catch(a){o.b.error("Failed to update department: "+a.message)}},this.state={departmentName:"",id:null,event:{},showAlert:!1,errorMsg:"",done:!1}}componentDidMount(){this.setState({departmentName:this.props.data.departmentName,id:this.props.data.id})}render(){const{showAlert:e,done:t}=this.state;return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Edit Department"})}),Object(_.jsxs)(R.a.Body,{children:[t?Object(_.jsx)(c.a,{to:"/departments"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{controlId:"formDepartmentName",children:[Object(_.jsx)(U.a.Label,{className:"mb-2",children:"Department Name"}),Object(_.jsx)(U.a.Control,{type:"text",className:"col-8",name:"departmentName",value:this.state.departmentName,onChange:this.handleChange,autoComplete:"off",required:!0})]}),Object(_.jsx)(J.a,{variant:"success",type:"submit",className:"mt-2",children:"Submit"})]})]}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}class qe extends s.Component{render(){return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),Object(_.jsxs)(R.a.Body,{children:["This Department has Employees. Transfer Employees to a new Department first.",Object(_.jsx)("br",{}),Object(_.jsx)("a",{href:"/employee-list",children:"Employee List"})]}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}class _e extends s.Component{constructor(e){super(e),this.state={departments:[],jobs:[],selectedDepartment:null,hasError:!1,errorMsg:"",completed:!1,showEditModel:!1,showAlertModel:!1}}componentDidMount(){let e=D();if(0===e.length){const t=[{id:1,departmentName:"Human Resources",description:"HR Department",createdAt:(new Date).toISOString()},{id:2,departmentName:"Information Technology",description:"IT Department",createdAt:(new Date).toISOString()},{id:3,departmentName:"Sales",description:"Sales Department",createdAt:(new Date).toISOString()},{id:4,departmentName:"Marketing",description:"Marketing Department",createdAt:(new Date).toISOString()},{id:5,departmentName:"Finance",description:"Finance Department",createdAt:(new Date).toISOString()}];localStorage.setItem("hrms_departments",JSON.stringify(t)),e=t}const t=e.map(e=>({id:e.id,departmentName:e.departmentName,users:[]}));console.log("DEBUG: DepartmentList departments:",t),this.setState({departments:t})}onEdit(e){return t=>{t.preventDefault(),this.setState({selectedDepartment:e,showEditModel:!0})}}onDelete(e){return t=>{t.preventDefault();if(I().filter(t=>t.department===e.departmentName).length>0)this.setState({showAlertModel:!0});else{if((e=>{const t=D().filter(t=>t.id!==e);return y(j,t),!0})(e.id)){const e=D().map(e=>({id:e.id,departmentName:e.departmentName,users:[]}));this.setState({departments:e}),o.b.success("Department deleted successfully!")}else o.b.error("Failed to delete department")}}}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsx)(Je,{})})}),Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)("div",{className:"col-sm-12",children:[Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Department List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"DEPT ID",field:"id"},{title:"Department Name",field:"departmentName"},{title:"Jobs",render:e=>Object(_.jsx)(l.b,{to:{pathname:"/job-list",state:{selectedDepartment:e.id}},children:"Go to Job List"})},{title:"Action",render:e=>Object(_.jsxs)(U.a,{className:"row",children:[Object(_.jsx)("div",{className:"col pl-5",children:Object(_.jsxs)(J.a,{size:"sm",variant:"info",onClick:this.onEdit(e),children:[Object(_.jsx)("i",{className:"fas fa-edit"}),"Edit"]})}),Object(_.jsx)("div",{className:"col pr-5",children:Object(_.jsxs)(J.a,{onClick:this.onDelete(e),size:"sm",variant:"danger",children:[Object(_.jsx)("i",{className:"fas fa-trash"}),"Delete"]})})]})}],data:this.state.departments,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:8,pageSizeOptions:[5,10,20,30,50,75,100]},title:"Departments"})})})]}),this.state.showEditModel?Object(_.jsx)(Ye,{show:!0,onHide:()=>this.setState({showEditModel:!1}),data:this.state.selectedDepartment}):this.state.showAlertModel?Object(_.jsx)(qe,{show:!0,onHide:()=>this.setState({showAlertModel:!1})}):Object(_.jsx)(_.Fragment,{})]})})]})}}a(314),a(315);class ze extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onApprove=e=>t=>{t.preventDefault();const a=M().map(t=>t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{status:"approved"}):t);localStorage.setItem("hrms_applications",JSON.stringify(a));const s=this.state.applications.map(t=>t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{status:"approved"}):t);this.setState({applications:s}),console.log("DEBUG: Application approved:",e.id)},this.onReject=e=>t=>{t.preventDefault();const a=M().map(t=>t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{status:"rejected"}):t);localStorage.setItem("hrms_applications",JSON.stringify(a));const s=this.state.applications.map(t=>t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{status:"rejected"}):t);this.setState({applications:s}),console.log("DEBUG: Application rejected:",e.id)},this.state={applications:[],selectedApplications:null,done:!1,hasError:!1,errorMsg:"",completed:!1,showModel:!1}}componentDidMount(){let e=M();if(0===e.length){const t=[{id:1,employeeId:4,employeeName:"John Doe",type:"Leave",reason:"Annual Leave",startDate:"2024-01-20",endDate:"2024-01-25",status:"pending",createdAt:(new Date).toISOString()},{id:2,employeeId:5,employeeName:"Jane Smith",type:"Leave",reason:"Medical Leave",startDate:"2024-02-10",endDate:"2024-02-15",status:"pending",createdAt:(new Date).toISOString()},{id:3,employeeId:3,employeeName:"Jane Employee",type:"Leave",reason:"Personal Leave",startDate:"2024-03-05",endDate:"2024-03-08",status:"approved",createdAt:(new Date).toISOString()}];localStorage.setItem("hrms_applications",JSON.stringify(t)),e=t}let t=I();if(0===t.length){const e=[{id:1,firstName:"Admin",lastName:"User",email:"admin@hrms.com",phone:"+255 123 456 789",department:"Information Technology",position:"System Administrator",salary:12e5,hireDate:"2023-01-15",status:"active"},{id:2,firstName:"John",lastName:"Manager",email:"manager@hrms.com",phone:"+255 987 654 321",department:"Human Resources",position:"HR Manager",salary:15e5,hireDate:"2022-06-10",status:"active"},{id:3,firstName:"Jane",lastName:"Employee",email:"jane.employee@hrms.com",phone:"+255 555 123 456",department:"Sales",position:"Sales Representative",salary:8e5,hireDate:"2023-03-20",status:"active"},{id:4,firstName:"John",lastName:"Doe",email:"john.doe@hrms.com",phone:"+255 444 789 123",department:"Information Technology",position:"Software Developer",salary:11e5,hireDate:"2023-05-15",status:"active"},{id:5,firstName:"Jane",lastName:"Smith",email:"jane.smith@hrms.com",phone:"+255 333 456 789",department:"Marketing",position:"Marketing Specialist",salary:9e5,hireDate:"2023-07-01",status:"active"}];localStorage.setItem("hrms_employees",JSON.stringify(e)),t=e}const a=e.map(e=>{const a=t.find(t=>t.id===e.employeeId);return{id:e.id,user:{id:e.employeeId,fullName:e.employeeName||(a?"".concat(a.firstName," ").concat(a.lastName):"Unknown")},startDate:q()(e.startDate).format("YYYY-MM-DD"),endDate:q()(e.endDate).format("YYYY-MM-DD"),type:e.type,reason:e.reason,status:e.status||"pending"}});console.log("DEBUG: ApplicationList transformed applications:",a),this.setState({applications:a})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-5",children:[Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Application List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"APP ID",field:"id"},{title:"Full Name",field:"user.fullName"},{title:"Start Date",field:"startDate"},{title:"End Date",field:"endDate"},{title:"Leave Type",field:"type"},{title:"Comments",field:"reason"},{title:"Status",field:"status",render:e=>Object(_.jsx)(J.a,{size:"sm",variant:"approved"===e.status.toLowerCase()?"success":"pending"===e.status.toLowerCase()?"warning":"danger",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})},{title:"Action",render:e=>{const t=JSON.parse(localStorage.getItem("user")||"{}"),a=e.user.id==t.id,s="pending"===e.status.toLowerCase();return!a&&s?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(J.a,{onClick:this.onApprove(e),variant:"success",size:"sm",className:"mr-2",children:[Object(_.jsx)("i",{className:"fas fa-check"})," Approve"]}),Object(_.jsxs)(J.a,{onClick:this.onReject(e),variant:"danger",size:"sm",className:"ml-2",children:[Object(_.jsx)("i",{className:"fas fa-times"})," Reject"]})]}):Object(_.jsx)("span",{className:"text-muted",children:"No actions available"})}}],data:this.state.applications,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Applications"})})})]})}),this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):this.state.completed?Object(_.jsx)(c.a,{to:"/application-list"}):Object(_.jsx)(_.Fragment,{})]})}}class Ve extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.state={applications:[],selectedApplications:null,done:!1,hasError:!1,errorMsg:"",completed:!1,showModel:!1}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user")).departmentId;const t=M(),a=S(),s=t.filter(t=>{const s=a.find(e=>e.id==t.userId);return s&&s.departmentId==e}).map(e=>{const t=a.find(t=>t.id==e.userId);return Object(d.a)(Object(d.a)({},e),{},{user:t?{fullName:t.fullName||"".concat(t.firstName," ").concat(t.lastName)}:{fullName:"Unknown User"},startDate:q()(e.startDate).format("YYYY-MM-DD"),endDate:q()(e.endDate).format("YYYY-MM-DD")})});this.setState({applications:s})}onApprove(e){return t=>{t.preventDefault();try{if(F(e.id,{status:"Approved"})){const t=this.state.applications.map(t=>t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{status:"Approved"}):t);this.setState({applications:t}),o.b.success("Application approved successfully!")}else o.b.error("Failed to approve application.")}catch(a){o.b.error("Failed to approve application: "+a.message)}}}onReject(e){return t=>{t.preventDefault();try{if(F(e.id,{status:"Rejected"})){const t=this.state.applications.map(t=>t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{status:"Rejected"}):t);this.setState({applications:t}),o.b.success("Application rejected successfully!")}else o.b.error("Failed to reject application.")}catch(a){o.b.error("Failed to reject application: "+a.message)}}}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-5",children:[Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Application List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"APP ID",field:"id"},{title:"Full Name",field:"user.fullName"},{title:"Start Date",field:"startDate"},{title:"End Date",field:"endDate"},{title:"Leave Type",field:"type"},{title:"Comments",field:"reason"},{title:"Status",field:"status",render:e=>Object(_.jsx)(J.a,{size:"sm",variant:"Approved"===e.status?"success":"Pending"===e.status?"warning":"danger",children:e.status})},{title:"Action",render:e=>e.user.id!=JSON.parse(localStorage.getItem("user")).id&&"Pending"===e.status?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(J.a,{onClick:this.onApprove(e),variant:"success",size:"sm",className:"mr-2",children:[Object(_.jsx)("i",{className:"fas fa-edit"}),"Approve"]}),Object(_.jsxs)(J.a,{onClick:this.onReject(e),variant:"danger",size:"sm",className:"ml-2",children:[Object(_.jsx)("i",{className:"fas fa-trash"}),"Reject"]})]}):null}],data:this.state.applications,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Applications"})})})]})}),this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):this.state.completed?Object(_.jsx)(c.a,{to:"/application-list"}):Object(_.jsx)(_.Fragment,{})]})}}class We extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.state={applications:[],selectedApplications:null,done:!1,hasError:!1,errorMsg:"",completed:!1,showModel:!1}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user")).id;const t=M().filter(t=>t.userId==e).map(e=>Object(d.a)(Object(d.a)({},e),{},{startDate:q()(e.startDate).format("YYYY-MM-DD"),endDate:q()(e.endDate).format("YYYY-MM-DD")}));this.setState({applications:t})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsx)("div",{className:"container-fluid pt-5",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Application List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"APP ID",field:"id"},{title:"Full Name",field:"user.fullName"},{title:"Start Date",field:"startDate"},{title:"End Date",field:"endDate"},{title:"Leave Type",field:"type"},{title:"Comments",field:"reason"},{title:"Status",field:"status",render:e=>Object(_.jsx)(J.a,{size:"sm",variant:"Approved"===e.status?"success":"Pending"===e.status?"warning":"danger",children:e.status})}],data:this.state.applications,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Applications"})})})]})})})}}class Xe extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=e=>{e.preventDefault(),this.setState({hasError:!1,errorMsg:"",completed:!1});let t=JSON.parse(localStorage.getItem("user")).id,a={type:this.state.type,startDate:this.state.startDate,endDate:this.state.endDate,status:"Pending",reason:this.state.reason,userId:t};try{(e=>{const t=M(),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});t.push(a),y(u,t)})(a),this.setState({completed:!0}),o.b.success("Application submitted successfully!")}catch(s){o.b.error("Failed to submit application: "+s.message),window.scrollTo(0,0)}},this.state={type:"",startDate:null,endDate:null,reason:"",hasError:!1,errMsg:"",completed:!1}}render(){return Object(_.jsxs)("div",{className:"container-fluid pt-4",children:[this.state.completed?Object(_.jsx)(c.a,{to:"/application-list"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(ye.a,{className:"mb-3 main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("b",{children:"Make Application"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{controlId:"formDepartmentName",children:[Object(_.jsx)(U.a.Label,{children:"Type"}),Object(_.jsxs)(U.a.Control,{as:"select",name:"type",style:{width:"50%"},value:this.state.type,onChange:this.handleChange,required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose one"}),Object(_.jsx)("option",{value:"normal",children:"Normal"}),Object(_.jsx)("option",{value:"illness",children:"Illness"}),Object(_.jsx)("option",{value:"student",children:"Student"}),Object(_.jsx)("option",{value:"marriage",children:"Marriage"})]})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Start Date"}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{selected:this.state.startDate,className:"form-control ml-1",onChange:e=>this.setState({startDate:e}),required:!0})})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"End Date"}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{selected:this.state.endDate,className:"form-control ml-1",onChange:e=>this.setState({endDate:e}),required:!0})})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsxs)(U.a.Label,{children:["Reason ",Object(_.jsx)("span",{className:"text-muted",children:"(Comments)"})]}),Object(_.jsx)(U.a.Control,{type:"text",name:"reason",value:this.state.reason,onChange:this.handleChange})]}),Object(_.jsx)(J.a,{variant:"primary",type:"submit",className:"mt-2",children:"Add"})]})})})]})]})}}class $e extends s.Component{constructor(e){super(e),this.fetchDepartments=()=>{const e=[{id:1,departmentName:"Human Resources",description:"HR Department",createdAt:(new Date).toISOString()},{id:2,departmentName:"Information Technology",description:"IT Department",createdAt:(new Date).toISOString()},{id:3,departmentName:"Sales",description:"Sales Department",createdAt:(new Date).toISOString()},{id:4,departmentName:"Marketing",description:"Marketing Department",createdAt:(new Date).toISOString()},{id:5,departmentName:"Finance",description:"Finance Department",createdAt:(new Date).toISOString()}];localStorage.setItem("hrms_departments",JSON.stringify(e)),console.log("DEBUG: Setting departments in JobAddModal:",e),this.setState({departments:e},()=>{console.log("DEBUG: JobAddModal departments state:",this.state.departments)})},this.fetchUsers=()=>{let e=S();if(0===e.length){const t=[{id:1,username:"admin",email:"admin@hrms.com",password:"admin123",role:"admin",firstName:"Admin",lastName:"User",department:"Information Technology",departmentId:2,position:"System Administrator"},{id:2,username:"manager",email:"manager@hrms.com",password:"manager123",role:"manager",firstName:"John",lastName:"Manager",department:"Human Resources",departmentId:1,position:"HR Manager"},{id:3,username:"employee",email:"employee@hrms.com",password:"employee123",role:"employee",firstName:"Jane",lastName:"Employee",department:"Sales",departmentId:3,position:"Sales Representative"},{id:4,username:"john.doe",email:"john.doe@hrms.com",password:"password123",role:"employee",firstName:"John",lastName:"Doe",department:"Information Technology",departmentId:2,position:"Software Developer"},{id:5,username:"jane.smith",email:"jane.smith@hrms.com",password:"password123",role:"employee",firstName:"Jane",lastName:"Smith",department:"Marketing",departmentId:4,position:"Marketing Specialist"}];localStorage.setItem("hrms_users",JSON.stringify(t)),e=t}console.log("DEBUG: All users loaded:",e),console.log("DEBUG: Selected department ID:",this.state.selectedDepartment),console.log("DEBUG: Selected department type:",typeof this.state.selectedDepartment);const t=parseInt(this.state.selectedDepartment),a=e.filter(e=>(console.log("DEBUG: Comparing user departmentId:",e.departmentId,"with selected:",t),e.departmentId===t));console.log("DEBUG: Filtered users for department",t,":",a),this.setState({users:a})},this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onDepartmentChange=e=>{console.log("DEBUG: Department changed to:",e.target.value),this.setState({selectedDepartment:e.target.value},()=>{console.log("DEBUG: State updated, now fetching users for department:",this.state.selectedDepartment),this.fetchUsers()})},this.onUserChange=e=>{this.setState({selectedUser:e.target.value})},this.pushDepartments=()=>{let e=[];return this.state.departments.map((t,a)=>{e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.pushUsers=()=>{let e=[];return console.log("DEBUG: pushUsers called, users array:",this.state.users),console.log("DEBUG: users array length:",this.state.users.length),this.state.users.map((t,a)=>{const s="".concat(t.firstName," ").concat(t.lastName);console.log("DEBUG: Adding user option:",s,"with ID:",t.id),e.push(Object(_.jsx)("option",{value:t.id,children:s},a))}),console.log("DEBUG: Total user options created:",e.length),e},this.onSubmit=e=>{if(e.preventDefault(),!this.state.selectedDepartment||!this.state.selectedUser||!this.state.jobTitle||!this.state.startDate||!this.state.endDate)return void o.b.error("Please fill in all required fields");let t={jobTitle:this.state.jobTitle,startDate:this.state.startDate,endDate:this.state.endDate,userId:this.state.selectedUser,departmentId:this.state.selectedDepartment,status:"Active",createdAt:(new Date).toISOString()};try{(e=>{const t=C(),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now(),createdAt:(new Date).toISOString()});t.push(a),y(b,t)})(t),this.setState({done:!0}),o.b.success("Job added successfully!")}catch(a){o.b.error("Failed to add job. Please try again.")}},this.state={id:null,jobTitle:"",startDate:null,endDate:null,departments:[],users:[],selectedDepartment:null,selectedUser:null,showAlert:!1,errorMsg:"",done:!1}}componentDidMount(){this.fetchDepartments()}render(){const{showAlert:e,done:t}=this.state;return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Add Job"})}),Object(_.jsx)(R.a.Body,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Select Department"}),Object(_.jsxs)(U.a.Control,{as:"select",className:"form-control",value:this.state.selectedDepartment||"",onChange:this.onDepartmentChange,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),this.pushDepartments()]})]}),this.state.selectedDepartment?Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select User"}),Object(_.jsxs)(U.a.Control,{as:"select",className:"form-control",value:this.state.selectedUser||"",onChange:this.onUserChange,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),this.pushUsers()]})]}):null,t?Object(_.jsx)(c.a,{to:{pathname:"/job-list",state:{selectedDepartment:this.state.departmentId}}}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(U.a.Group,{controlId:"formJobTitle",children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Job Title"}),Object(_.jsx)(U.a.Control,{type:"text",className:"col-8",name:"jobTitle",value:this.state.jobTitle,onChange:this.handleChange,autoComplete:"off",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formStartDate",children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Job Start Date"}),Object(_.jsx)(re.a,{selected:this.state.startDate,onChange:e=>this.setState({startDate:e}),minDate:Date.now(),dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Start Date",autoComplete:"off",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"fromEndDate",children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Job End Date"}),Object(_.jsx)(re.a,{selected:this.state.endDate,onChange:e=>this.setState({endDate:e}),minDate:Date.now(),dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Start Date",autoComplete:"off",required:!0})]}),Object(_.jsx)(J.a,{variant:"success",type:"submit",className:"mt-2",children:"Submit"})]})}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}class Ze extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=e=>{e.preventDefault();let t={jobTitle:this.state.jobTitle,startDate:this.state.startDate,endDate:this.state.endDate};try{((e,t)=>{const a=C(),s=a.findIndex(t=>t.id===e);-1!==s&&(a[s]=Object(d.a)(Object(d.a)({},a[s]),t),y(b,a),a[s])})(this.state.id,t),this.setState({done:!0}),o.b.success("Job updated successfully!")}catch(a){o.b.error("Failed to update job: "+a.message)}},this.state={id:null,jobTitle:"",startDate:null,endDate:null,showAlert:!1,errorMsg:"",done:!1}}componentDidMount(){this.setState({id:this.props.data.id,jobTitle:this.props.data.jobTitle,startDate:q()(new Date(this.props.data.startDate)).toDate(),endDate:q()(new Date(this.props.data.endDate)).toDate(),departmentId:this.props.data.user.departmentId})}render(){const{showAlert:e,done:t}=this.state;return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Edit Job"})}),Object(_.jsx)(R.a.Body,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[t?Object(_.jsx)(c.a,{to:{pathname:"/job-list",state:{selectedDepartment:this.state.departmentId}}}):Object(_.jsx)(_.Fragment,{}),Object(_.jsxs)(U.a.Group,{controlId:"formJobTitle",children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Job Title"}),Object(_.jsx)(U.a.Control,{type:"text",className:"col-8",name:"jobTitle",value:this.state.jobTitle,onChange:this.handleChange,autoComplete:"off",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"formStartDate",children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Job Start Date"}),Object(_.jsx)(re.a,{selected:this.state.startDate,onChange:e=>this.setState({startDate:e}),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",name:"startDate",dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Start Date",autoComplete:"off",required:!0})]}),Object(_.jsxs)(U.a.Group,{controlId:"fromEndDate",children:[Object(_.jsx)(U.a.Label,{className:"mb-2 required",children:"Job End Date"}),Object(_.jsx)(re.a,{selected:this.state.endDate,onChange:e=>this.setState({endDate:e}),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",name:"endDate",dateFormat:"yyyy-MM-dd",className:"form-control ml-1",placeholderText:"Select Start Date",autoComplete:"off",required:!0})]}),Object(_.jsx)(J.a,{variant:"success",type:"submit",className:"mt-2",children:"Submit"})]})}),Object(_.jsx)(R.a.Footer,{children:Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})})]}))}}class Ke extends s.Component{constructor(e){super(e),this.onDelete=e=>{e.preventDefault();try{(e=>{const t=C().filter(t=>t.id!==e);y(b,t)})(this.props.data.id),this.setState({redirect:!0}),o.b.success("Job deleted successfully!")}catch(t){o.b.error("Failed to delete job: "+t.message)}},this.state={redirect:!1}}render(){return Object(_.jsxs)(R.a,Object(d.a)(Object(d.a)({},this.props),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[this.state.redirect?Object(_.jsx)(c.a,{to:"/job-list"}):null,Object(_.jsx)(R.a.Header,{closeButton:!0,children:Object(_.jsx)(R.a.Title,{id:"contained-modal-title-vcenter",children:"Warning"})}),Object(_.jsxs)(R.a.Body,{children:["By deleting a Job you will also delete all of its payment records as well! Are you sure?",Object(_.jsx)("br",{})]}),Object(_.jsxs)(R.a.Footer,{children:[Object(_.jsx)(J.a,{variant:"danger",onClick:this.onDelete,children:"Delete"}),Object(_.jsx)(J.a,{onClick:this.props.onHide,children:"Close"})]})]}))}}class Qe extends s.Component{constructor(e){super(e),this.pushChanges=()=>{const e=L().find(e=>e.userId==this.state.selectedUser);if(e)this.setState(t=>Object(d.a)(Object(d.a)({},t),{},{financialId:e.id},e));else{const e={id:Date.now(),userId:this.state.selectedUser,employmentType:"Full Time",salaryBasic:0,allowanceHouseRent:0,allowanceMedical:0,allowanceSpecial:0,allowanceFuel:0,allowancePhoneBill:0,allowanceOther:0,deductionTax:0,deductionOther:0};this.setState(t=>Object(d.a)(Object(d.a)({},t),{},{financialId:e.id},e))}},this.fetchData=()=>{let e=S();if(0===e.length){const t=[{id:1,username:"admin",email:"admin@hrms.com",password:"admin123",role:"admin",firstName:"Admin",lastName:"User",department:"Information Technology",departmentId:2,position:"System Administrator"},{id:2,username:"manager",email:"manager@hrms.com",password:"manager123",role:"manager",firstName:"John",lastName:"Manager",department:"Human Resources",departmentId:1,position:"HR Manager"},{id:3,username:"employee",email:"employee@hrms.com",password:"employee123",role:"employee",firstName:"Jane",lastName:"Employee",department:"Sales",departmentId:3,position:"Sales Representative"},{id:4,username:"john.doe",email:"john.doe@hrms.com",password:"password123",role:"employee",firstName:"John",lastName:"Doe",department:"Information Technology",departmentId:2,position:"Software Developer"},{id:5,username:"jane.smith",email:"jane.smith@hrms.com",password:"password123",role:"employee",firstName:"Jane",lastName:"Smith",department:"Marketing",departmentId:4,position:"Marketing Specialist"}];localStorage.setItem("hrms_users",JSON.stringify(t)),e=t}const t=e.filter(e=>e.departmentId==this.state.selectedDepartment);console.log("DEBUG: SalaryDetails filtered users for department",this.state.selectedDepartment,":",t),this.setState({users:t})},this.fetchDataAll=()=>{let e=S();if(0===e.length){const t=[{id:1,username:"admin",email:"admin@hrms.com",password:"admin123",role:"admin",firstName:"Admin",lastName:"User",department:"Information Technology",departmentId:2,position:"System Administrator"},{id:2,username:"manager",email:"manager@hrms.com",password:"manager123",role:"manager",firstName:"John",lastName:"Manager",department:"Human Resources",departmentId:1,position:"HR Manager"},{id:3,username:"employee",email:"employee@hrms.com",password:"employee123",role:"employee",firstName:"Jane",lastName:"Employee",department:"Sales",departmentId:3,position:"Sales Representative"},{id:4,username:"john.doe",email:"john.doe@hrms.com",password:"password123",role:"employee",firstName:"John",lastName:"Doe",department:"Information Technology",departmentId:2,position:"Software Developer"},{id:5,username:"jane.smith",email:"jane.smith@hrms.com",password:"password123",role:"employee",firstName:"Jane",lastName:"Smith",department:"Marketing",departmentId:4,position:"Marketing Specialist"}];localStorage.setItem("hrms_users",JSON.stringify(t)),e=t}console.log("DEBUG: SalaryDetails all users:",e),this.setState({users:e})},this.pushDepartments=()=>{let e=[];return e.push(Object(_.jsx)("option",{value:"all",children:"All departments"},584390)),this.state.departments.map((t,a)=>{this.state.selectedDepartment==t.id?e.push(Object(_.jsx)("option",{value:t.id,defaultValue:!0,children:t.departmentName},a)):e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.pushUsers=()=>{let e=[];return this.state.users.map((t,a)=>{const s="".concat(t.firstName," ").concat(t.lastName);e.push(Object(_.jsx)("option",{value:t.id,children:s},a))}),e},this.handleDepartmentChange=e=>{this.setState({selectedDepartment:e.target.value},()=>{"all"===this.state.selectedDepartment?this.fetchDataAll():this.fetchData()})},this.handleUserChange=e=>{this.setState({selectedUser:e.target.value},()=>{this.pushChanges()})},this.handleChangeEmploymentType=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:+a})},this.onSubmit=e=>{e.preventDefault();let t={employmentType:this.state.employmentType,salaryBasic:this.state.salaryBasic,salaryGross:this.salaryGross,salaryNet:this.salaryNet,allowanceHouseRent:this.state.allowanceHouseRent,allowanceMedical:this.state.allowanceMedical,allowanceSpecial:this.state.allowanceSpecial,allowanceFuel:this.state.allowanceFuel,allowancePhoneBill:this.state.allowancePhoneBill,allowanceOther:this.state.allowanceOther,allowanceTotal:this.state.allowanceHouseRent+this.state.allowanceMedical+this.state.allowanceSpecial+this.state.allowanceFuel+this.state.allowancePhoneBill+this.state.allowanceOther,deductionTax:this.state.deductionTax,deductionOther:this.state.deductionOther,deductionTotal:this.state.deductionTax+this.state.deductionOther,salaryGross:this.state.salaryBasic+this.state.allowanceHouseRent+this.state.allowanceMedical+this.state.allowanceSpecial+this.state.allowancePhoneBill+this.state.allowanceFuel+this.state.allowanceOther,salaryNet:this.state.salaryBasic+this.state.allowanceHouseRent+this.state.allowanceMedical+this.state.allowanceSpecial+this.state.allowancePhoneBill+this.state.allowanceFuel+this.state.allowanceOther-this.state.deductionTax-this.state.deductionOther};try{((e,t)=>{const a=L(),s=a.findIndex(t=>t.id===e);if(-1!==s)return a[s]=Object(d.a)(Object(d.a)({},a[s]),t),y(N,a),a[s];{const s=Object(d.a)(Object(d.a)({},t),{},{id:e||Date.now()});a.push(s),y(N,a)}})(this.state.financialId,t),this.setState({completed:!0}),window.scrollTo(0,0)}catch(a){this.setState({hasError:!0,errMsg:"Failed to update salary details. Please try again."}),window.scrollTo(0,0)}},this.state={departments:[],selectedDepartment:null,selectedUser:null,financialId:null,users:[],salaryBasic:0,allowanceHouseRent:0,allowanceMedical:0,allowanceSpecial:0,allowanceFuel:0,allowancePhoneBill:0,allowanceOther:0,deductionTax:0,deductionOther:0,hasError:!1,errMsg:"",completed:!1}}componentDidMount(){const e=[{id:1,departmentName:"Human Resources",description:"HR Department",createdAt:(new Date).toISOString()},{id:2,departmentName:"Information Technology",description:"IT Department",createdAt:(new Date).toISOString()},{id:3,departmentName:"Sales",description:"Sales Department",createdAt:(new Date).toISOString()},{id:4,departmentName:"Marketing",description:"Marketing Department",createdAt:(new Date).toISOString()},{id:5,departmentName:"Finance",description:"Finance Department",createdAt:(new Date).toISOString()}];localStorage.setItem("hrms_departments",JSON.stringify(e)),console.log("DEBUG: Setting departments in SalaryDetails:",e),this.setState({departments:e},()=>{console.log("DEBUG: Departments state set:",this.state.departments),this.props.location.state&&(this.setState({selectedDepartment:this.props.location.state.selectedUser.departmentId},()=>{this.fetchData()}),this.setState({selectedUser:this.props.location.state.selectedUser.id},()=>{this.pushChanges()}))})}onEdit(e){return t=>{t.preventDefault(),this.setState({selectedJob:e,showEditModel:!0})}}render(){let e=this.state.salaryBasic+this.state.allowanceHouseRent+this.state.allowanceMedical+this.state.allowanceSpecial+this.state.allowancePhoneBill+this.state.allowanceFuel+this.state.allowanceOther,t=this.state.deductionTax+this.state.deductionOther,a=e-t;return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsxs)("div",{className:"row",children:[this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):this.state.completed?Object(_.jsx)(Re.a,{variant:"success",className:"m-3",block:!0,children:"Financial Infromation have been updated."}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"required",children:"Manage Salary Details"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select Department: "}),Object(_.jsxs)(U.a.Control,{as:"select",className:"select-css",value:this.state.selectedDepartment,onChange:this.handleDepartmentChange,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."},34432432),this.pushDepartments()]})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select User: "}),Object(_.jsxs)(U.a.Control,{as:"select",className:"select-css",value:this.state.selectedUser||"",onChange:this.handleUserChange,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),this.pushUsers()]})]})]})})})]})})]}),this.state.selectedUser?Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Employment Type "}),Object(_.jsxs)(U.a.Control,{as:"select",className:"select-css",value:this.state.employmentType,onChange:this.handleChangeEmploymentType,name:"employmentType",children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),Object(_.jsx)("option",{value:"Full Time",children:"Full Time"}),Object(_.jsx)("option",{value:"Part Time",children:"Part Time"})]})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Basic Salary"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.salaryBasic,onChange:this.handleChange,name:"salaryBasic"})]})]})})]})})}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-6",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Allowances"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"House Rent Allowance"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.allowanceHouseRent,onChange:this.handleChange,name:"allowanceHouseRent"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Medical Allowance"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.allowanceMedical,onChange:this.handleChange,name:"allowanceMedical"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Special Allowance"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.allowanceSpecial,onChange:this.handleChange,name:"allowanceSpecial"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Fuel Allowance"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.allowanceFuel,onChange:this.handleChange,name:"allowanceFuel"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Phone Bill Allowance"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.allowancePhoneBill,onChange:this.handleChange,name:"allowancePhoneBill"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Other Allowance"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.allowanceOther,onChange:this.handleChange,name:"allowanceOther"})]})]})})]})}),Object(_.jsxs)("div",{className:"col-sm-6",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Deductions"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Tax Deduction"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.deductionTax,onChange:this.handleChange,name:"deductionTax"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Other Deduction"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.deductionOther,onChange:this.handleChange,name:"deductionOther"})]})]})})]})})}),Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Total Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Gross Salary"}),Object(_.jsx)(U.a.Control,{type:"number",value:e,readOnly:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Total Deductions"}),Object(_.jsx)(U.a.Control,{type:"number",value:t,readOnly:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Net Salary"}),Object(_.jsx)(U.a.Control,{type:"number",value:a,readOnly:!0})]})]})})]})})}),Object(_.jsx)("div",{className:"row mb-2",children:Object(_.jsx)(J.a,{type:"submit",block:!0,children:"Submit"})})]})]})]}):null]})}}class et extends s.Component{constructor(e){super(e),this.onEdit=e=>t=>{t.preventDefault(),this.setState({selectedUser:e.user,editRedirect:!0})},this.onView=e=>t=>{t.preventDefault(),this.setState({selectedUser:e,viewRedirect:!0})},this.state={financialInformations:[],selectedUser:null,editRedirect:!1,deleteModal:!1}}componentDidMount(){let e=S();if(0===e.length){const t=[{id:1,username:"admin",email:"admin@hrms.com",password:"admin123",role:"admin",firstName:"Admin",lastName:"User",department:"Information Technology",departmentId:2,position:"System Administrator"},{id:2,username:"manager",email:"manager@hrms.com",password:"manager123",role:"manager",firstName:"John",lastName:"Manager",department:"Human Resources",departmentId:1,position:"HR Manager"},{id:3,username:"employee",email:"employee@hrms.com",password:"employee123",role:"employee",firstName:"Jane",lastName:"Employee",department:"Sales",departmentId:3,position:"Sales Representative"},{id:4,username:"john.doe",email:"john.doe@hrms.com",password:"password123",role:"employee",firstName:"John",lastName:"Doe",department:"Information Technology",departmentId:2,position:"Software Developer"},{id:5,username:"jane.smith",email:"jane.smith@hrms.com",password:"password123",role:"employee",firstName:"Jane",lastName:"Smith",department:"Marketing",departmentId:4,position:"Marketing Specialist"}];localStorage.setItem("hrms_users",JSON.stringify(t)),e=t}let t=L();if(0===t.length){const e=[{id:1,userId:1,employmentType:"Full Time",salaryBasic:8e5,allowanceHouseRent:2e5,allowanceMedical:5e4,allowanceSpecial:1e5,allowanceFuel:75e3,allowancePhoneBill:25e3,allowanceOther:5e4,deductionTax:12e4,deductionOther:3e4,salaryGross:13e5,deductionTotal:15e4,salaryNet:115e4},{id:2,userId:2,employmentType:"Full Time",salaryBasic:1e6,allowanceHouseRent:25e4,allowanceMedical:75e3,allowanceSpecial:15e4,allowanceFuel:1e5,allowancePhoneBill:3e4,allowanceOther:75e3,deductionTax:18e4,deductionOther:5e4,salaryGross:168e4,deductionTotal:23e4,salaryNet:145e4}];localStorage.setItem("hrms_salary_details",JSON.stringify(e)),t=e}const a=t.map(t=>{const a=e.find(e=>e.id==t.userId);return a?Object(d.a)(Object(d.a)({},t),{},{user:Object(d.a)(Object(d.a)({},a),{},{fullName:"".concat(a.firstName," ").concat(a.lastName)})}):null}).filter(e=>null!==e);console.log("DEBUG: SalaryList financial informations:",a),this.setState({financialInformations:a})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-4",children:[this.state.editRedirect?Object(_.jsx)(c.a,{to:{pathname:"/salary-details",state:{selectedUser:this.state.selectedUser}}}):Object(_.jsx)(_.Fragment,{}),this.state.viewRedirect?Object(_.jsx)(c.a,{to:{pathname:"/salary-view",state:{selectedUser:this.state.selectedUser}}}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"List of Employees and Their Salaries"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"EMP ID",field:"user.id"},{title:"Full Name",field:"user.fullName"},{title:"Gross Salary",field:"salaryGross"},{title:"Deductions",field:"deductionTotal"},{title:"Net Salary",field:"salaryNet"},{title:"Emp Type",field:"employmentType"},{title:"View",render:e=>Object(_.jsx)(U.a,{children:Object(_.jsx)(J.a,{size:"sm",variant:"info",onClick:this.onView(e),children:Object(_.jsx)("i",{className:"far fa-address-card"})})})},{title:"Action",render:e=>Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(J.a,{size:"sm",variant:"info",className:"mr-2",onClick:this.onEdit(e),children:[Object(_.jsx)("i",{className:"far fa-edit"}),"Edit"]})})}],data:this.state.financialInformations,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Employees"})})})]})})]})}}class tt extends s.Component{constructor(e){super(e),this.onEdit=()=>{this.setState({editRedirect:!0})},this.state={user:null,currentJobTitle:null,falseRedirect:!1,editRedirect:!1}}componentDidMount(){if(this.props.location.state){const e=S().find(e=>e.id==this.props.location.state.selectedUser.user.id);e?this.setState({user:e},()=>{e.jobs&&e.jobs.map(e=>{new Date(e.startDate).setHours(0)<new Date&&new Date(e.endDate).setHours(24)>new Date&&this.setState({currentJobTitle:e.jobTitle})})}):this.setState({falseRedirect:!0})}else this.setState({falseRedirect:!0})}render(){return Object(_.jsxs)("div",{className:"container-fluid pt-3",children:[this.state.falseRedirect?Object(_.jsx)(c.a,{to:"/"}):Object(_.jsx)(_.Fragment,{}),this.state.editRedirect?Object(_.jsx)(c.a,{to:{pathname:"/salary-details",state:{selectedUser:this.state.user}}}):null,this.state.user?Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{sm:12,children:Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:["Employee Salary Detail ",Object(_.jsx)(U.a,{className:"float-right",children:Object(_.jsxs)("span",{style:{cursor:"pointer"},onClick:this.onEdit,children:[Object(_.jsx)("i",{className:"far fa-edit"})," Edit"]})})]}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.user.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.currentJobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card sal-view",children:[Object(_.jsx)(ye.a.Header,{children:"Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-details",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Employment Type:"}),Object(_.jsx)("span",{children:this.state.user.user_financial_info.employmentType})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Basic Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.salaryBasic]})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card sal-view",children:[Object(_.jsx)(ye.a.Header,{children:"Allowances"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-allowances",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"House Rent Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowanceHouseRent]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Medical Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowanceMedical]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Special Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowanceSpecial]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Fuel Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowanceFuel]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Phone Bill Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowancePhoneBill]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Other Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowanceOther]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.allowanceTotal]})]})]})})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Deductions"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-deductions",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Tax Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.deductionTax]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Other Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.deductionOther]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.deductionTotal]})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Total Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-total",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gross Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.salaryGross]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.deductionTotal]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Net Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.user_financial_info.salaryNet]})]})]})})]})})]})]})})]})]})})}):null]})}}class at extends s.Component{constructor(e){super(e),this.state={user:null,currentJobTitle:null,falseRedirect:!1}}componentDidMount(){if(this.props.location.state){const e=S(),t=D(),a=(L(),e.find(e=>e.id==this.props.location.state.selectedUser.user.id));if(a){const e=t.find(e=>e.id==a.departmentId),s=Object(d.a)(Object(d.a)({},a),{},{department:e?{departmentName:e.departmentName}:{departmentName:"Unknown"}});this.setState({user:s},()=>{a.jobs&&a.jobs.map(e=>{new Date(e.startDate).setHours(0)<new Date&&new Date(e.endDate).setHours(24)>new Date&&this.setState({currentJobTitle:e.jobTitle})})})}else this.setState({falseRedirect:!0})}else this.setState({falseRedirect:!0})}render(){return Object(_.jsxs)("div",{className:"container-fluid pt-3",children:[this.state.falseRedirect?Object(_.jsx)(c.a,{to:"/"}):Object(_.jsx)(_.Fragment,{}),this.state.user?Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{sm:12,children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:"Employee Salary Detail"}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.user.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.currentJobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card sal-view",children:[Object(_.jsx)(ye.a.Header,{children:"Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-details",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Employment Type:"}),Object(_.jsx)("span",{children:this.state.user.employmentType})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Basic Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.salaryBasic]})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card sal-view",children:[Object(_.jsx)(ye.a.Header,{children:"Allowances"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-allowances",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"House Rent Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceHouseRent]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Medical Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceMedical]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Special Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceSpecial]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Fuel Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceFuel]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Phone Bill Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowancePhoneBill]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Other Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceOther]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceTotal]})]})]})})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Deductions"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-deductions",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Tax Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionTax]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Other Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionOther]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionTotal]})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Total Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-total",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gross Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.salaryGross]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionTotal]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Net Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.salaryNet]})]})]})})]})})]})]})})]})]})})}):null]})}}class st extends s.Component{constructor(e){super(e),this.state={user:null,currentJobTitle:null}}componentDidMount(){let e=JSON.parse(localStorage.getItem("user")).id;const t=S(),a=D(),s=t.find(t=>t.id==e);if(s){const e=a.find(e=>e.id==s.departmentId),t=Object(d.a)(Object(d.a)({},s),{},{department:e?{departmentName:e.departmentName}:{departmentName:"Unknown"}});this.setState({user:t},()=>{s.jobs&&s.jobs.map(e=>{new Date(e.startDate).setHours(0)<new Date&&new Date(e.endDate).setHours(24)>new Date&&this.setState({currentJobTitle:e.jobTitle})})})}}render(){return Object(_.jsx)("div",{className:"container-fluid pt-3",children:this.state.user?Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{sm:12,children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white",fontSize:"17px"},children:"Employee Salary Detail"}),Object(_.jsxs)(ye.a.Body,{children:[Object(_.jsx)(ye.a.Title,{children:Object(_.jsx)("strong",{children:this.state.user.fullName||"".concat(this.state.user.firstName," ").concat(this.state.user.lastName)})}),Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(ve.a,{lg:12,children:[Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{lg:3,children:Object(_.jsx)("img",{className:"img-circle elevation-1 bp-2",src:"/user-128.png"})}),Object(_.jsx)(ve.a,{className:"pt-4",lg:9,children:Object(_.jsx)("div",{className:"emp-view-list",children:Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Employee ID: "})," ",this.state.user.id]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Department: "})," ",this.state.user.department.departmentName]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Job Title: "})," ",this.state.currentJobTitle]}),Object(_.jsxs)("li",{children:[Object(_.jsx)("span",{children:"Role: "}),"ROLE_ADMIN"===this.state.user.role?"Admin":"ROLE_MANAGER"===this.state.user.role?"Manager":"Employee"]})]})})})]}),Object(_.jsxs)(we.a,{className:"pt-4",children:[Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card sal-view",children:[Object(_.jsx)(ye.a.Header,{children:"Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-details",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Employment Type:"}),Object(_.jsx)("span",{children:this.state.user.employmentType})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Basic Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.salaryBasic]})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card sal-view",children:[Object(_.jsx)(ye.a.Header,{children:"Allowances"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-allowances",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"House Rent Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceHouseRent]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Medical Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceMedical]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Special Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceSpecial]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Fuel Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceFuel]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Phone Bill Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowancePhoneBill]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Other Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceOther]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Allowance:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.allowanceTotal]})]})]})})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{cm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Deductions"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-deductions",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Tax Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionTax]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Other Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionOther]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionTotal]})]})]})})]})}),Object(_.jsx)(ve.a,{sm:6,children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Total Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(ye.a.Text,{id:"sal-view-total",children:[Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Gross Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.salaryGross]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Total Deduction:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.deductionTotal]})]}),Object(_.jsxs)(U.a.Group,{as:we.a,children:[Object(_.jsx)(U.a.Label,{className:"label",children:"Net Salary:"}),Object(_.jsxs)("span",{children:["TSh ",this.state.user.salaryNet]})]})]})})]})})]})]})})]})]})})}):null})}}class nt extends s.Component{constructor(e){super(e),this.fetchData=()=>{const e=S().filter(e=>e.departmentId==this.state.selectedDepartment);this.setState({users:e})},this.fetchDataAll=()=>{const e=S();this.setState({users:e})},this.pushDepartments=()=>{let e=[];return e.push(Object(_.jsx)("option",{value:"all",children:"All departments"},584390)),this.state.departments.map((t,a)=>{this.state.selectedDepartment==t.id?e.push(Object(_.jsx)("option",{value:t.id,defaultValue:!0,children:t.departmentName},a)):e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.pushUsers=()=>{let e=[];return this.state.users.map((t,a)=>{e.push(Object(_.jsx)("option",{value:t.id,children:t.fullName},a))}),e},this.handleDepartmentChange=e=>{this.setState({selectedDepartment:e.target.value},()=>{"all"===this.state.selectedDepartment?this.fetchDataAll():this.fetchData()})},this.handleUserChange=e=>{this.state.users.map(t=>{t.id==e.target.value&&this.setState({selectedUser:e.target.value})})},this.findPayments=e=>{e&&e.preventDefault(),this.fetchUserData(),this.setState({showHistory:!0})},this.fetchUserData=()=>{const e=L().find(e=>e.userId==this.state.selectedUser);e&&this.setState({salaryGross:e.grossSalary,salaryNet:e.netSalary,deductionTotal:e.deductions});const t=(JSON.parse(localStorage.getItem("payments"))||[]).filter(e=>e.userId==this.state.selectedUser);this.setState({payments:t,showHistory:!0})},this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.onSubmit=e=>{e.preventDefault();let t=null;this.state.users.map(e=>{e.id==this.state.selectedUser&&e.jobs&&e.jobs.map(e=>{new Date(e.startDate).setHours(0)<new Date&&new Date(e.endDate).setHours(24)>new Date&&(t=e.id)})});let a={paymentType:this.state.paymentType,paymentMonth:q()(this.state.selectedDate).format("YYYY-MM"),paymentDate:q()(new Date).format("YYYY-MM-DD"),paymentFine:this.state.paymentFine,paymentAmount:this.state.salaryNet-this.state.paymentFine,comments:this.state.comments,jobId:t};console.log(a);try{(e=>{const t=A(),a=Object(d.a)(Object(d.a)({},e),{},{id:Date.now()});t.push(a),y(x,t)})(Object(d.a)(Object(d.a)({},a),{},{userId:this.state.selectedUser,id:Date.now()})),this.fetchUserData(),o.b.success("Payment has been inserted successfully!"),window.scrollTo(0,0)}catch(s){o.b.error("Error inserting payment: "+s.message),window.scrollTo(0,0)}},this.state={departments:[],users:[],selectedDepartment:null,selectedUser:null,selectedDate:null,salaryGross:null,salaryNet:null,deductionTotal:null,paymentFine:0,paymentAmount:0,paymentType:"",comments:"",payments:[],hasError:!1,errMsg:"",completed:!1,showHistory:!1}}componentDidMount(){const e=D();this.setState({departments:e})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}}),t=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Manage Salary Details"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.findPayments,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select Department: "}),Object(_.jsxs)(U.a.Control,{as:"select",className:"select-css",value:this.state.selectedDepartment,onChange:this.handleDepartmentChange,required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."},34432432),this.pushDepartments()]})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select User: "}),Object(_.jsxs)(U.a.Control,{as:"select",className:"select-css",value:this.state.selectedUser||"",onChange:this.handleUserChange,required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),this.pushUsers()]})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select Month: "}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{className:"form-control ml-1",placeholderText:"Pick Month",selected:this.state.selectedDate,onChange:e=>this.setState({selectedDate:e}),dateFormat:"MM/yyy",showMonthYearPicker:!0,required:!0})})]}),Object(_.jsx)(J.a,{type:"submit",className:"mt-2",size:"sm",children:"Search"})]})})})]})})}),this.state.showHistory?Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-3",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsxs)(ye.a.Header,{children:["Payment for ",t[new Date(this.state.selectedDate).getMonth()],",",new Date(this.state.selectedDate).getFullYear()]}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Gross Salary "}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.salaryGross,onChange:this.handleChange,name:"salaryGross",readOnly:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Total Deduction"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.deductionTotal,onChange:this.handleChange,name:"deductionTotal",readOnly:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Net Salary"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.salaryNet,onChange:this.handleChange,name:"salaryNet",readOnly:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Fine Deduction"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.paymentFine,onChange:this.handleChange,name:"paymentFine"})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Payment Amount"}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.salaryNet-this.state.paymentFine,onChange:this.handleChange,name:"paymentAmount",readOnly:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{className:"required",children:"Payment Type "}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.paymentType,onChange:this.handleChange,name:"paymentType",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),Object(_.jsx)("option",{value:"Cash",children:"Cash"}),Object(_.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),Object(_.jsx)("option",{value:"Cheque",children:"Cheque"})]})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Comments"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.comments,onChange:this.handleChange,name:"comments"})]}),Object(_.jsx)(J.a,{type:"submit",className:"mt-1",children:"Save"})]})})})]})}),Object(_.jsx)("div",{className:"col-sm-9",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Payment History"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"Payment Month",render:e=>t[new Date(e.paymentMonth).getMonth()]+"-"+new Date(e.paymentMonth).getFullYear()},{title:"Payment Date",render:e=>q()(e.paymentDate).format("DD-MMM-YY")},{title:"Gross Salary",field:"job.user.user_financial_info.salaryGross"},{title:"Department",field:"job.user.user_financial_info.deductionTotal"},{title:"Net Salary",field:"job.user.user_financial_info.salaryNet"},{title:"Fine Deduction",render:e=>e.paymentFine||0},{title:"Payment Amount",field:"paymentAmount"}],data:this.state.payments,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"History"})})})})]})})]}):null]})}}class rt extends s.Component{constructor(e){super(e),this.pushDepartments=()=>{let e=[];return this.state.departments.map((t,a)=>{e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.onSubmit=e=>{e.preventDefault();let t={expenseItemName:this.state.itemName,expenseItemStore:this.state.purchasedFrom,date:new Date(this.state.purchaseDate).setHours(15),amount:this.state.amountSpent,departmentId:this.state.selectedDepartment};try{G(Object(d.a)(Object(d.a)({},t),{},{id:Date.now()})),this.setState({completed:!0})}catch(a){this.setState({hasError:!0,errMsg:a.message}),window.scrollTo(0,0)}},this.state={departments:[],selectedDepartment:null,itemName:"",purchasedFrom:"",purchaseDate:"",amountSpent:0,hasError:!1,errMsg:""}}componentDidMount(){const e=[{id:1,departmentName:"Human Resources",description:"HR Department",createdAt:(new Date).toISOString()},{id:2,departmentName:"Information Technology",description:"IT Department",createdAt:(new Date).toISOString()},{id:3,departmentName:"Sales",description:"Sales Department",createdAt:(new Date).toISOString()},{id:4,departmentName:"Marketing",description:"Marketing Department",createdAt:(new Date).toISOString()},{id:5,departmentName:"Finance",description:"Finance Department",createdAt:(new Date).toISOString()}];localStorage.setItem("hrms_departments",JSON.stringify(e)),console.log("DEBUG: Setting departments in Expense:",e),this.setState({departments:e},()=>{console.log("DEBUG: Expense departments state:",this.state.departments)})}render(){return Object(_.jsx)("div",{className:"container-fluid pt-2",children:Object(_.jsxs)("div",{className:"row",children:[this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):this.state.completed?Object(_.jsx)(Re.a,{variant:"success",className:"m-3",children:"Expense has been inserted."}):null,Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Add Expense"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Item Name: "}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.itemName,onChange:this.handleChange,name:"itemName",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Purchased From: "}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.purchasedFrom,onChange:this.handleChange,name:"purchasedFrom",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Purchase Date: "}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{className:"form-control ml-1",placeholderText:"Pick Date",selected:this.state.purchaseDate,onChange:e=>this.setState({purchaseDate:e}),required:!0})})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Amount Spent: "}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.amountSpent,onChange:this.handleChange,name:"amountSpent",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select Department: "}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.selectedDepartment,onChange:this.handleChange,name:"selectedDepartment",required:!0,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),this.pushDepartments()]})]}),Object(_.jsx)(J.a,{type:"submit",className:"mt-2",size:"sm",children:"Save"})]})})})]})})]})})}}class it extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.onSubmit=e=>{e.preventDefault();let t=JSON.parse(localStorage.getItem("user")).departmentId,a=JSON.parse(localStorage.getItem("user")).id,s={expenseItemName:this.state.itemName,expenseItemStore:this.state.purchasedFrom,date:this.state.purchaseDate,amount:parseFloat(this.state.amountSpent),departmentId:t,userId:a,status:"pending"};try{G(s),this.setState({completed:!0}),o.b.success("Expense has been inserted successfully!")}catch(n){o.b.error("Failed to insert expense: "+n.message),window.scrollTo(0,0)}},this.state={departments:[],selectedDepartment:null,itemName:"",purchasedFrom:"",purchaseDate:"",amountSpent:0,hasError:!1,errMsg:"",completed:!1}}render(){return Object(_.jsx)("div",{className:"container-fluid pt-2",children:Object(_.jsxs)("div",{className:"row",children:[this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):this.state.completed?Object(_.jsx)(Re.a,{variant:"success",className:"m-3",children:"Expense has been inserted."}):null,Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:"Add Expense"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Item Name: "}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.itemName,onChange:this.handleChange,name:"itemName",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Purchased From: "}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.purchasedFrom,onChange:this.handleChange,name:"purchasedFrom",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Purchase Date: "}),Object(_.jsx)(U.a.Row,{children:Object(_.jsx)(re.a,{className:"form-control ml-1",placeholderText:"Pick Date",selected:this.state.purchaseDate,onChange:e=>this.setState({purchaseDate:e}),required:!0})})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Amount Spent: "}),Object(_.jsx)(U.a.Control,{type:"number",value:this.state.amountSpent,onChange:this.handleChange,name:"amountSpent",required:!0})]}),Object(_.jsx)(J.a,{type:"submit",className:"mt-2",size:"sm",children:"Save"})]})})})]})})]})})}}class lt extends s.Component{constructor(e){super(e),this.onSubmit=e=>{e.preventDefault();const t=T();let a=[];t.map(e=>{new Date(e.date).getMonth()==new Date(this.state.selectedDate).getMonth()&&new Date(e.date).getFullYear()==new Date(this.state.selectedDate).getFullYear()&&a.push(e)}),this.setState({expenses:a})},this.state={expenses:[],selectedDate:null}}componentDidMount(){const e=S();this.setState({users:e})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-4",children:[Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-3"}),Object(_.jsx)("div",{className:"col-sm-9",children:Object(_.jsx)("h4",{children:Object(_.jsx)("a",{className:"fa fa-plus mb-2 ml-2",href:"/expense",children:"Add Expense"})})})]}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-3",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Select Date"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select Date"}),Object(_.jsx)(re.a,{selected:this.state.selectedDate,className:"form-control ml-1",onChange:e=>this.setState({selectedDate:e}),showMonthYearPicker:!0,dateFormat:"MMM yyyy"})]}),Object(_.jsx)(J.a,{size:"sm",type:"submit",children:"Search"})]})})})]})}),Object(_.jsx)("div",{className:"col-sm-9",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Expenses"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"ID",field:"id"},{title:"Item Name",field:"expenseItemName"},{title:"Purchased From",field:"expenseItemStore"},{title:"Purchase Date",render:e=>q()(e.date).format("DD MMM,YYYY")},{title:"Department",field:"department.departmentName"},{title:"Amount",render:e=>"TSh "+e.amount},{accessor:"cash",footer:"Total:1"}],data:this.state.expenses,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Expense Report"})})})]})})]})]})}}class ct extends s.Component{constructor(e){super(e),this.onSubmit=e=>{e.preventDefault();let t=JSON.parse(localStorage.getItem("user")).departmentId;const a=T(),s=S(),n=D(),r=a.filter(e=>{const a=s.find(t=>t.id==e.userId);return a&&a.departmentId==t}).filter(e=>!!this.state.selectedDate&&(new Date(e.date).getMonth()==new Date(this.state.selectedDate).getMonth()&&new Date(e.date).getFullYear()==new Date(this.state.selectedDate).getFullYear())).map(e=>{const t=s.find(t=>t.id==e.userId),a=t?n.find(e=>e.id==t.departmentId):null;return Object(d.a)(Object(d.a)({},e),{},{department:a?{departmentName:a.departmentName}:{departmentName:"Unknown"}})});this.setState({expenses:r})},this.state={expenses:[],selectedDate:null}}componentDidMount(){}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-4",children:[Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-3"}),Object(_.jsx)("div",{className:"col-sm-9",children:Object(_.jsx)("h4",{children:Object(_.jsx)("a",{className:"fa fa-plus mb-2 ml-2",href:"/expense",children:"Add Expense"})})})]}),Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-sm-3",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:"Select Date"}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Select Date"}),Object(_.jsx)(re.a,{selected:this.state.selectedDate,className:"form-control ml-1",onChange:e=>this.setState({selectedDate:e}),showMonthYearPicker:!0,dateFormat:"MMM yyyy"})]}),Object(_.jsx)(J.a,{size:"sm",type:"submit",children:"Search"})]})})})]})}),Object(_.jsx)("div",{className:"col-sm-9",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Expenses"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"ID",field:"id"},{title:"Item Name",field:"expenseItemName"},{title:"Purchased From",field:"expenseItemStore"},{title:"Purchase Date",render:e=>q()(e.date).format("DD MMM,YYYY")},{title:"Department",field:"department.departmentName"},{title:"Amount",render:e=>"TSh "+e.amount},{accessor:"cash",footer:"Total:1"}],data:this.state.expenses,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:10,pageSizeOptions:[10,20,30,50,75,100]},title:"Expense Report"})})})]})})]})]})}}class ot extends s.Component{constructor(e){super(e),this.onDelete=e=>t=>{t.preventDefault();try{const t=E().filter(t=>t.id!==e.id);localStorage.setItem("hrms_announcements",JSON.stringify(t)),this.componentDidMount(),this.setState({hasError:!1,errorMsg:""})}catch(a){this.setState({hasError:!0,errorMsg:"Failed to delete announcement. Please try again."})}},this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.pushDepartments=()=>{let e=[];return this.state.departments.map((t,a)=>{e.push(Object(_.jsx)("option",{value:t.id,children:t.departmentName},a))}),e},this.onSubmit=e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")),a={title:this.state.title,description:this.state.description,createdByUserId:t.id,department:t.department||"General",status:"active"};try{B(a),this.setState({title:"",description:"",hasError:!1}),this.componentDidMount()}catch(s){this.setState({hasError:!0,errorMsg:"Failed to publish announcement. Please try again."})}},this.state={announcements:[],departments:[],title:"",description:"",userId:null,departmentId:null,hasError:!1,errorMsg:"",completed:!1,showEditModel:!1,showAlertModel:!1}}componentDidMount(){const e=[{id:1,departmentName:"Human Resources",description:"HR Department",createdAt:(new Date).toISOString()},{id:2,departmentName:"Information Technology",description:"IT Department",createdAt:(new Date).toISOString()},{id:3,departmentName:"Sales",description:"Sales Department",createdAt:(new Date).toISOString()},{id:4,departmentName:"Marketing",description:"Marketing Department",createdAt:(new Date).toISOString()},{id:5,departmentName:"Finance",description:"Finance Department",createdAt:(new Date).toISOString()}];localStorage.setItem("hrms_departments",JSON.stringify(e)),console.log("DEBUG: Setting departments in Announcement:",e);const t=E(),a=S(),s=t.map(e=>{var t,s;return{id:e.id,announcementTitle:e.title,announcementDescription:e.description,user:{id:e.createdByUserId,fullName:(null===(t=a.find(t=>t.id===e.createdByUserId))||void 0===t?void 0:t.firstName)+" "+(null===(s=a.find(t=>t.id===e.createdByUserId))||void 0===s?void 0:s.lastName)||"Unknown"},department:{departmentName:e.department||"General"}}});this.setState({announcements:s,departments:e},()=>{console.log("DEBUG: Announcement departments state:",this.state.departments)})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("strong",{children:"Add Announcement"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Title"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.title,onChange:this.handleChange,name:"title",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Description"}),Object(_.jsx)(U.a.Control,{type:"textarea",value:this.state.description,onChange:this.handleChange,name:"description",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Department"}),Object(_.jsxs)(U.a.Control,{as:"select",value:this.state.selectedDepartment,onChange:this.handleChange,name:"selectedDepartment",children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),Object(_.jsx)("option",{value:"all",children:"All Departments"}),this.pushDepartments()]})]}),Object(_.jsx)(J.a,{type:"submit",size:"sm",className:"mt-1",children:"Publish"})]})})})]})})}),Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Announcement List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"ID",field:"id"},{title:"Title",field:"announcementTitle"},{title:"Description",field:"announcementDescription"},{title:"Created By",field:"user.fullName"},{title:"Department",field:"department.departmentName"},{title:"Action",render:e=>Object(_.jsx)(U.a,{className:"row",children:Object(_.jsxs)(J.a,{onClick:this.onDelete(e),size:"sm",variant:"danger",children:[Object(_.jsx)("i",{className:"fas fa-trash"}),"Delete"]})})}],data:this.state.announcements,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:8,pageSizeOptions:[5,10,20,30,50,75,100]},title:"Announcements"})})})]})})}),this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):Object(_.jsx)(_.Fragment,{})]})}}class dt extends s.Component{constructor(e){super(e),this.loadAnnouncements=()=>{const e=E(),t=S(),a=e.map(e=>{var a,s;return{id:e.id,announcementTitle:e.title,announcementDescription:e.description,user:{id:e.createdByUserId,fullName:(null===(a=t.find(t=>t.id===e.createdByUserId))||void 0===a?void 0:a.firstName)+" "+(null===(s=t.find(t=>t.id===e.createdByUserId))||void 0===s?void 0:s.lastName)||"Unknown"},department:{departmentName:e.department||"General"}}});this.setState({announcements:a})},this.onDelete=e=>t=>{t.preventDefault();try{const t=E().filter(t=>t.id!==e.id);localStorage.setItem("hrms_announcements",JSON.stringify(t)),this.loadAnnouncements(),this.setState({hasError:!1,errorMsg:""})}catch(a){this.setState({hasError:!0,errorMsg:"Failed to delete announcement. Please try again."})}},this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.onSubmit=e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("user")),a={title:this.state.title,description:this.state.description,createdByUserId:t.id,department:t.department||"General",status:"active"};try{B(a),this.setState({title:"",description:"",hasError:!1}),this.loadAnnouncements()}catch(s){this.setState({hasError:!0,errorMsg:"Failed to publish announcement. Please try again."})}},this.state={announcements:[],departments:[],title:"",description:"",userId:null,departmentId:null,hasError:!1,errorMsg:"",completed:!1,showEditModel:!1,showAlertModel:!1}}componentDidMount(){this.loadAnnouncements()}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("strong",{children:"Add Announcement"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)(U.a,{onSubmit:this.onSubmit,children:[Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Title"}),Object(_.jsx)(U.a.Control,{type:"text",value:this.state.title,onChange:this.handleChange,name:"title",required:!0})]}),Object(_.jsxs)(U.a.Group,{children:[Object(_.jsx)(U.a.Label,{children:"Description"}),Object(_.jsx)(U.a.Control,{type:"textarea",value:this.state.description,onChange:this.handleChange,name:"description",required:!0})]}),Object(_.jsx)(J.a,{type:"submit",size:"sm",className:"mt-1",children:"Publish"})]})})})]})})}),Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Announcement List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"ID",field:"id"},{title:"Title",field:"announcementTitle"},{title:"Description",field:"announcementDescription"},{title:"Created By",field:"user.fullName"},{title:"Department",field:"department.departmentName"},{title:"Action",render:e=>e.user.id==JSON.parse(localStorage.getItem("user")).id?Object(_.jsx)(U.a,{className:"row",children:Object(_.jsxs)(J.a,{onClick:this.onDelete(e),size:"sm",variant:"danger",children:[Object(_.jsx)("i",{className:"fas fa-trash"}),"Delete"]})}):null}],data:this.state.announcements,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:7,pageSizeOptions:[5,10,20,30,50,75,100]},title:"Announcements"})})})]})})}),this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",children:this.state.errorMsg}):Object(_.jsx)(_.Fragment,{})]})}}class ht extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.state={announcements:[],departments:[],title:"",description:"",userId:null,departmentId:null,hasError:!1,errorMsg:"",completed:!1,showEditModel:!1,showAlertModel:!1}}componentDidMount(){const e=E(),t=S(),a=e.map(e=>{var a,s;return{id:e.id,announcementTitle:e.title,announcementDescription:e.description,user:{id:e.createdByUserId,fullName:(null===(a=t.find(t=>t.id===e.createdByUserId))||void 0===a?void 0:a.firstName)+" "+(null===(s=t.find(t=>t.id===e.createdByUserId))||void 0===s?void 0:s.lastName)||"Unknown"},department:{departmentName:e.department||"General"}}});this.setState({announcements:a})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Announcement List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"ID",field:"id"},{title:"Title",field:"announcementTitle"},{title:"Description",field:"announcementDescription"},{title:"Created By",field:"user.fullName"},{title:"Department",field:"department.departmentName"}],data:this.state.announcements,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:8,pageSizeOptions:[5,10,20,30,50,75,100]},title:"Announcements"})})})]})})}),this.state.hasError?Object(_.jsx)(Re.a,{variant:"danger",className:"m-3",block:!0,children:this.state.errMsg}):Object(_.jsx)(_.Fragment,{})]})}}class mt extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t,hasError:!1,errorMsg:"",successMsg:""})},this.onUpdateProfile=e=>{if(e.preventDefault(),!this.state.firstName||!this.state.lastName||!this.state.email)return void this.setState({hasError:!0,errorMsg:"First Name, Last Name, and Email are required fields."});if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.state.email))try{const e=Object(d.a)(Object(d.a)({},this.state.user),{},{firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,phone:this.state.phone,department:this.state.department,position:this.state.position,username:this.state.username});localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("hrms_users")||"[]").map(t=>t.id===e.id?e:t);localStorage.setItem("hrms_users",JSON.stringify(t)),this.setState({user:e,successMsg:"Profile updated successfully!",hasError:!1,errorMsg:""}),setTimeout(()=>{this.setState({successMsg:""})},3e3)}catch(t){this.setState({hasError:!0,errorMsg:"Failed to update profile. Please try again."})}else this.setState({hasError:!0,errorMsg:"Please enter a valid email address."})},this.onChangePassword=e=>{if(e.preventDefault(),this.state.currentPassword&&this.state.newPassword&&this.state.confirmPassword)if(this.state.newPassword===this.state.confirmPassword)if(this.state.newPassword.length<6)this.setState({hasError:!0,errorMsg:"New password must be at least 6 characters long."});else if(this.state.currentPassword===this.state.user.password)try{const e=Object(d.a)(Object(d.a)({},this.state.user),{},{password:this.state.newPassword});localStorage.setItem("user",JSON.stringify(e));const t=JSON.parse(localStorage.getItem("hrms_users")||"[]").map(t=>t.id===e.id?e:t);localStorage.setItem("hrms_users",JSON.stringify(t)),this.setState({user:e,currentPassword:"",newPassword:"",confirmPassword:"",successMsg:"Password changed successfully!",hasError:!1,errorMsg:"",showPasswordSection:!1}),setTimeout(()=>{this.setState({successMsg:""})},3e3)}catch(t){this.setState({hasError:!0,errorMsg:"Failed to change password. Please try again."})}else this.setState({hasError:!0,errorMsg:"Current password is incorrect."});else this.setState({hasError:!0,errorMsg:"New password and confirm password do not match."});else this.setState({hasError:!0,errorMsg:"All password fields are required."})},this.togglePasswordSection=()=>{this.setState({showPasswordSection:!this.state.showPasswordSection,currentPassword:"",newPassword:"",confirmPassword:"",hasError:!1,errorMsg:""})},this.state={user:{},firstName:"",lastName:"",email:"",phone:"",department:"",position:"",username:"",currentPassword:"",newPassword:"",confirmPassword:"",hasError:!1,errorMsg:"",successMsg:"",showPasswordSection:!1,updated:!1}}componentDidMount(){const e=JSON.parse(localStorage.getItem("user")||"{}");this.setState({user:e,firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phone:e.phone||"",department:e.department||"",position:e.position||"",username:e.username||""})}render(){return Object(_.jsx)("div",{className:"container-fluid pt-5",children:Object(_.jsx)(we.a,{children:Object(_.jsx)(ve.a,{md:8,className:"mx-auto",children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(ye.a.Header,{style:{backgroundColor:"#515e73",color:"white"},children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"My Profile"})})}),Object(_.jsxs)(ye.a.Body,{children:[this.state.hasError&&Object(_.jsx)(Re.a,{variant:"danger",className:"mb-3",children:this.state.errorMsg}),this.state.successMsg&&Object(_.jsx)(Re.a,{variant:"success",className:"mb-3",children:this.state.successMsg}),Object(_.jsxs)(U.a,{onSubmit:this.onUpdateProfile,children:[Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"First Name *"}),Object(_.jsx)(U.a.Control,{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange,placeholder:"Enter first name",required:!0})]})}),Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Last Name *"}),Object(_.jsx)(U.a.Control,{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange,placeholder:"Enter last name",required:!0})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Email Address *"}),Object(_.jsx)(U.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Enter email address",required:!0})]})}),Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Phone Number"}),Object(_.jsx)(U.a.Control,{type:"tel",name:"phone",value:this.state.phone,onChange:this.handleChange,placeholder:"Enter phone number"})]})})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Department"}),Object(_.jsx)(U.a.Control,{type:"text",name:"department",value:this.state.department,onChange:this.handleChange,placeholder:"Enter department",readOnly:!0,style:{backgroundColor:"#f8f9fa"}}),Object(_.jsx)(U.a.Text,{className:"text-muted",children:"Contact admin to change department"})]})}),Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Position"}),Object(_.jsx)(U.a.Control,{type:"text",name:"position",value:this.state.position,onChange:this.handleChange,placeholder:"Enter position"})]})})]}),Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Username"}),Object(_.jsx)(U.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Enter username"})]}),Object(_.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(_.jsxs)(J.a,{variant:"primary",type:"submit",children:[Object(_.jsx)("i",{className:"fas fa-save"})," Update Profile"]}),Object(_.jsxs)(J.a,{variant:"secondary",type:"button",onClick:this.togglePasswordSection,children:[Object(_.jsx)("i",{className:"fas fa-key"})," ",this.state.showPasswordSection?"Cancel":"Change Password"]})]})]}),this.state.showPasswordSection&&Object(_.jsxs)(ye.a,{className:"mt-4",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("strong",{children:"Change Password"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsxs)(U.a,{onSubmit:this.onChangePassword,children:[Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Current Password *"}),Object(_.jsx)(U.a.Control,{type:"password",name:"currentPassword",value:this.state.currentPassword,onChange:this.handleChange,placeholder:"Enter current password",required:!0})]}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"New Password *"}),Object(_.jsx)(U.a.Control,{type:"password",name:"newPassword",value:this.state.newPassword,onChange:this.handleChange,placeholder:"Enter new password",required:!0})]})}),Object(_.jsx)(ve.a,{md:6,children:Object(_.jsxs)(U.a.Group,{className:"mb-3",children:[Object(_.jsx)(U.a.Label,{children:"Confirm New Password *"}),Object(_.jsx)(U.a.Control,{type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,placeholder:"Confirm new password",required:!0})]})})]}),Object(_.jsxs)(J.a,{variant:"success",type:"submit",children:[Object(_.jsx)("i",{className:"fas fa-check"})," Change Password"]})]})})]})]})]})})})})}}class jt extends s.Component{constructor(e){super(e),this.passwordVisibilityHandler=()=>{var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"},this.passwordVisibilityHandlerCheck=()=>{var e=document.getElementById("checkPassword");"password"===e.type?e.type="text":e.type="password"},this.onChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=async e=>{if(e.preventDefault(),this.setState({isLoading:!0,hasError:!1}),this.state.password===this.state.confirmPassword){await new Promise(e=>setTimeout(e,1e3));try{const e={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,phone:this.state.phone,username:this.state.username,password:this.state.password,role:"employee",departmentId:1},t=P(e);t.success?(this.setState({isLoading:!1}),this.props.history.push("/login")):this.setState({hasError:!0,errorMessage:t.message,isLoading:!1})}catch(t){console.error("Registration error:",t),this.setState({hasError:!0,errorMessage:"Registration failed. Username might already exist.",isLoading:!1})}}else this.setState({hasError:!0,errorMessage:"Passwords do not match!",isLoading:!1})},this.state={firstName:"",lastName:"",email:"",phone:"",username:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1,hasError:!1,errorMessage:"",isLoading:!1},this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this)}render(){return Object(_.jsxs)("div",{className:"split-register-container",children:[Object(_.jsx)("style",{children:'\n          .split-register-container {\n            min-height: 100vh;\n            display: flex;\n            font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n            animation: fadeIn 0.8s ease-out;\n          }\n          \n          @keyframes fadeIn {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .left-panel {\n            flex: 1;\n            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\n            padding: 60px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            color: white;\n            position: relative;\n            animation: slideInLeft 1s ease-out;\n          }\n          \n          @keyframes slideInLeft {\n            from {\n              opacity: 0;\n              transform: translateX(-50px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          \n          .left-panel::before {\n            content: \'\';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="1" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="1" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>\');\n            opacity: 0.3;\n          }\n          \n          .company-logo {\n            display: flex;\n            align-items: center;\n            margin-bottom: 40px;\n            animation: bounceIn 1.2s ease-out 0.3s both;\n          }\n          \n          @keyframes bounceIn {\n            0% {\n              opacity: 0;\n              transform: scale(0.3);\n            }\n            50% {\n              opacity: 1;\n              transform: scale(1.05);\n            }\n            70% {\n              transform: scale(0.9);\n            }\n            100% {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n          \n          .logo-icon {\n            width: 60px;\n            height: 60px;\n            background: linear-gradient(135deg, #2e8b57 0%, #228b22 100%);\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-right: 20px;\n            font-size: 24px;\n            color: #ffd700;\n            animation: pulse 2s infinite;\n          }\n          \n          @keyframes pulse {\n            0% {\n              box-shadow: 0 0 0 0 rgba(46, 139, 87, 0.7);\n            }\n            70% {\n              box-shadow: 0 0 0 10px rgba(46, 139, 87, 0);\n            }\n            100% {\n              box-shadow: 0 0 0 0 rgba(46, 139, 87, 0);\n            }\n          }\n          \n          .company-info h1 {\n            font-size: 2.2rem;\n            font-weight: 700;\n            margin: 0 0 5px 0;\n            letter-spacing: -0.5px;\n          }\n          \n          .company-info p {\n            font-size: 1rem;\n            opacity: 0.8;\n            margin: 0;\n          }\n          \n          .system-description {\n            font-size: 1.1rem;\n            line-height: 1.6;\n            margin-bottom: 50px;\n            opacity: 0.9;\n            max-width: 80%;\n          }\n          \n          .stats-container {\n            display: flex;\n            gap: 40px;\n            margin-top: 40px;\n            animation: fadeInUp 1s ease-out 0.6s both;\n          }\n          \n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(30px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .stat-item {\n            text-align: left;\n          }\n          \n          .stat-number {\n            font-size: 2.5rem;\n            font-weight: 700;\n            color: #3498db;\n            margin-bottom: 8px;\n            animation: countUp 2s ease-out 1s both;\n          }\n          \n          @keyframes countUp {\n            from {\n              opacity: 0;\n              transform: scale(0.5);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n          \n          .stat-label {\n            font-size: 1rem;\n            opacity: 0.8;\n          }\n          \n          .right-panel {\n            flex: 1;\n            background: #f8f9fa;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 40px;\n            animation: slideInRight 1s ease-out;\n          }\n          \n          @keyframes slideInRight {\n            from {\n              opacity: 0;\n              transform: translateX(50px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          \n          .register-form-container {\n            width: 100%;\n            max-width: 450px;\n            background: white;\n            padding: 50px 40px;\n            border-radius: 12px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n            animation: zoomIn 0.8s ease-out 0.2s both;\n            transform-origin: center;\n          }\n          \n          @keyframes zoomIn {\n            from {\n              opacity: 0;\n              transform: scale(0.9);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n          \n          .form-header {\n            text-align: center;\n            margin-bottom: 20px;\n          }\n          \n          .form-title {\n            font-size: 2rem;\n            font-weight: 600;\n            color: #2c3e50;\n            margin-bottom: 8px;\n          }\n          \n          .form-subtitle {\n            color: #7f8c8d;\n            font-size: 0.95rem;\n          }\n          \n          .input-group {\n            display: flex;\n            align-items: center;\n            margin-bottom: 15px;\n          }\n          \n          .input-label {\n            width: 130px;\n            flex-shrink: 0;\n            font-size: 14px;\n            font-weight: 500;\n            color: #2c3e50;\n            padding-right: 10px;\n          }\n          \n          .input-wrapper {\n            position: relative;\n            flex-grow: 1;\n          }\n          \n          .form-input {\n            width: 100%;\n            padding: 16px 50px 16px 50px;\n            border: 1px solid #e1e8ed;\n            border-radius: 6px;\n            font-size: 16px;\n            transition: all 0.3s ease;\n            background: white;\n            box-sizing: border-box;\n            animation: slideUp 0.6s ease-out;\n          }\n          \n          @keyframes slideUp {\n            from {\n              opacity: 0;\n              transform: translateY(10px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .form-input:focus {\n            outline: none;\n            border-color: #3498db;\n            background: white;\n            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.15);\n          }\n          \n          .form-input::placeholder {\n            color: #a0a6b1;\n            font-size: 15px;\n          }\n          \n          .input-icon-left {\n            position: absolute;\n            left: 16px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0a6b1;\n            font-size: 18px;\n          }\n          \n          .input-icon-right {\n            position: absolute;\n            right: 16px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0a6b1;\n            font-size: 18px;\n          }\n          \n          .password-toggle {\n            cursor: pointer;\n            transition: color 0.3s ease;\n          }\n          \n          .password-toggle:hover {\n            color: #3498db;\n          }\n          \n          .register-btn {\n            width: 100%;\n            padding: 15px;\n            background: #2c3e50;\n            border: none;\n            border-radius: 8px;\n            color: white;\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            margin-bottom: 25px;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .register-btn:hover {\n            background: #34495e;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(44, 62, 80, 0.3);\n          }\n          \n          .register-btn:active {\n            transform: translateY(0);\n            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.2);\n          }\n          \n          .register-btn::before {\n            content: \'\';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n            transition: left 0.5s;\n          }\n          \n          .register-btn:hover::before {\n            left: 100%;\n          }\n          \n          .register-btn:disabled {\n            background: #95a5a6;\n            cursor: not-allowed;\n            transform: none;\n            box-shadow: none;\n          }\n          \n          .register-btn:disabled:hover {\n            background: #95a5a6;\n            transform: none;\n            box-shadow: none;\n          }\n          \n          .spinner {\n            width: 20px;\n            height: 20px;\n            border: 2px solid #ffffff;\n            border-top: 2px solid transparent;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            display: inline-block;\n            margin-right: 8px;\n          }\n          \n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .login-link {\n            text-align: center;\n            color: #7f8c8d;\n            font-size: 14px;\n          }\n          \n          .login-link a {\n            color: #3498db;\n            text-decoration: none;\n            font-weight: 500;\n          }\n          \n          .login-link a:hover {\n            text-decoration: underline;\n          }\n          \n          .demo-section {\n            background: #f8f9fa;\n            border-radius: 6px;\n            padding: 15px;\n            margin-top: 20px;\n            border: 1px solid #e9ecef;\n          }\n          \n          .error-alert {\n            background: #fee;\n            border: 1px solid #fcc;\n            color: #c33;\n            padding: 12px;\n            border-radius: 6px;\n            margin-bottom: 20px;\n            font-size: 14px;\n          }\n          \n          .success-alert {\n            background: #efe;\n            border: 1px solid #cfc;\n            color: #363;\n            padding: 12px;\n            border-radius: 6px;\n            margin-bottom: 20px;\n            font-size: 14px;\n          }\n          \n          .success-alert a {\n            color: #3498db;\n            text-decoration: none;\n            font-weight: 600;\n          }\n          \n          @media (max-width: 768px) {\n            .register-container {\n              flex-direction: column;\n            }\n            \n            .left-panel {\n              padding: 40px 20px;\n            }\n            \n            .stats-container {\n              gap: 20px;\n            }\n            \n            .right-panel {\n              padding: 20px;\n            }\n            \n            .login-form-container {\n              padding: 30px 20px;\n            }\n          }\n        '}),Object(_.jsxs)("div",{className:"left-panel",children:[Object(_.jsxs)("div",{className:"company-logo",children:[Object(_.jsx)("div",{className:"logo-icon",children:Object(_.jsx)("i",{className:"fas fa-users"})}),Object(_.jsxs)("div",{className:"company-info",children:[Object(_.jsx)("h1",{children:"HRMS Pro"}),Object(_.jsx)("p",{children:"Human Resource Management System"})]})]}),Object(_.jsx)("div",{className:"system-description",children:"Streamline your human resource operations with our comprehensive HRMS solution. Manage employees, departments, payroll, and applications across all organizational levels with ease."}),Object(_.jsxs)("div",{className:"stats-container",children:[Object(_.jsxs)("div",{className:"stat-item",children:[Object(_.jsx)("div",{className:"stat-number",children:"50+"}),Object(_.jsx)("div",{className:"stat-label",children:"Employees"})]}),Object(_.jsxs)("div",{className:"stat-item",children:[Object(_.jsx)("div",{className:"stat-number",children:"5"}),Object(_.jsx)("div",{className:"stat-label",children:"Departments"})]})]})]}),Object(_.jsx)("div",{className:"right-panel",children:Object(_.jsxs)("div",{className:"login-form-container",children:[Object(_.jsxs)("div",{className:"form-header",children:[Object(_.jsx)("h1",{className:"form-title",children:"Create Account"}),Object(_.jsx)("p",{className:"form-subtitle",children:"Sign up to access your dashboard"})]}),this.state.hasError&&Object(_.jsx)("div",{className:"error-alert",children:this.state.errorMessage}),this.state.completed&&Object(_.jsxs)("div",{className:"success-alert",children:["Registration successful! ",Object(_.jsx)(l.b,{to:"/login",children:"Sign in now"})]}),Object(_.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{className:"input-label",children:"Username"}),Object(_.jsxs)("div",{className:"input-wrapper",children:[Object(_.jsx)("i",{className:"fas fa-user input-icon-left"}),Object(_.jsx)("input",{type:"text",className:"form-input",name:"username",placeholder:"Enter your username",value:this.state.username,onChange:this.onChange,required:!0})]})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{className:"input-label",children:"Full Name"}),Object(_.jsxs)("div",{className:"input-wrapper",children:[Object(_.jsx)("i",{className:"fas fa-id-card input-icon-left"}),Object(_.jsx)("input",{type:"text",className:"form-input",name:"fullname",placeholder:"Enter your full name",value:this.state.fullname,onChange:this.onChange,required:!0})]})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{className:"input-label",children:"Password"}),Object(_.jsxs)("div",{className:"input-wrapper",children:[Object(_.jsx)("i",{className:"fas fa-lock input-icon-left"}),Object(_.jsx)("input",{type:"password",className:"form-input",name:"password",id:"password",placeholder:"Enter your password",value:this.state.password,onChange:this.onChange,required:!0}),Object(_.jsx)("i",{className:"fas ".concat(this.state.passwordShow?"fa-eye":"fa-eye-slash"," input-icon-right password-toggle"),onClick:this.passwordVisibilityHandler})]})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{className:"input-label",children:"Confirm Password"}),Object(_.jsxs)("div",{className:"input-wrapper",children:[Object(_.jsx)("i",{className:"fas fa-lock input-icon-left"}),Object(_.jsx)("input",{type:"password",className:"form-input",name:"checkPassword",id:"checkPassword",placeholder:"Confirm your password",value:this.state.checkPassword,onChange:this.onChange,required:!0}),Object(_.jsx)("i",{className:"fas ".concat(this.state.passwordCheckShow?"fa-eye":"fa-eye-slash"," input-icon-right password-toggle"),onClick:this.passwordVisibilityHandlerCheck})]})]}),Object(_.jsx)("button",{type:"submit",className:"register-btn",disabled:this.state.isLoading,children:this.state.isLoading?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"spinner"}),"Creating Account..."]}):"Create Account"})]}),Object(_.jsxs)("div",{className:"login-link",children:["Already have an account? ",Object(_.jsx)(l.b,{to:"/login",children:"Sign in"})]})]})})]})}}function bt(e){return class extends s.Component{constructor(){super(),this.state={isAuthenticated:!1,loading:!0,redirect:!1}}componentDidMount(){const e=v(m),t=localStorage.getItem("token");e&&t?(this.setState({isAuthenticated:!0,loading:!1}),console.log("Access: ".concat(this.state.isAuthenticated)),localStorage.setItem("user",JSON.stringify(e))):(console.log("Access: ".concat(this.state.isAuthenticated)),localStorage.removeItem("user"),localStorage.removeItem("token"),this.setState({loading:!1,redirect:!0}))}render(){const{loading:t,redirect:a}=this.state;return t?null:a?Object(_.jsx)(c.a,{to:"/login"}):Object(_.jsx)(e,Object(d.a)({},this.props))}}}class pt extends s.Component{constructor(e){super(e),this.passwordVisibilityHandler=()=>{var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"},this.onChange=e=>{const{value:t,name:a}=e.target;this.setState({[a]:t})},this.onSubmit=async e=>{e.preventDefault(),this.setState({isLoading:!0,hasError:!1}),w(),await new Promise(e=>setTimeout(e,800));try{const e=((e,t)=>{const a=v(h,[]).find(a=>a.username===e&&a.password===t);if(a){const e={id:a.id,username:a.username,email:a.email,role:a.role,firstName:a.firstName,lastName:a.lastName,department:a.department,position:a.position,loginTime:(new Date).toISOString()};return y(m,e),localStorage.setItem("user",JSON.stringify(e)),{success:!0,user:e,message:"Login successful"}}return{success:!1,message:"Invalid username or password"}})(this.state.username,this.state.password);e.success?(localStorage.setItem("token",JSON.stringify(e)),this.setState({done:!0,isLoading:!1})):this.setState({hasError:!0,errorMessage:e.message,isLoading:!1})}catch(t){console.error("Login error:",t),this.setState({hasError:!0,errorMessage:"Login failed. Please try again.",isLoading:!1})}},this.state={username:"",password:"",showPassword:!1,hasError:!1,errorMessage:"",isLoading:!1,done:!1},this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this)}render(){return Object(_.jsxs)("div",{className:"split-login-container",children:[Object(_.jsx)("style",{children:"\n          .split-login-container {\n            min-height: 100vh;\n            display: flex;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            animation: fadeIn 0.8s ease-out;\n          }\n          \n          @keyframes fadeIn {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .left-panel {\n            flex: 1;\n            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\n            padding: 60px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            color: white;\n            position: relative;\n            animation: slideInLeft 1s ease-out;\n          }\n          \n          @keyframes slideInLeft {\n            from {\n              opacity: 0;\n              transform: translateX(-50px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          \n          .company-logo {\n            display: flex;\n            align-items: center;\n            margin-bottom: 40px;\n            animation: bounceIn 1.2s ease-out 0.3s both;\n          }\n          \n          @keyframes bounceIn {\n            0% {\n              opacity: 0;\n              transform: scale(0.3);\n            }\n            50% {\n              opacity: 1;\n              transform: scale(1.05);\n            }\n            70% {\n              transform: scale(0.9);\n            }\n            100% {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n          \n          .logo-icon {\n            width: 60px;\n            height: 60px;\n            background: linear-gradient(135deg, #2e8b57 0%, #228b22 100%);\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-right: 20px;\n            font-size: 24px;\n            color: #ffd700;\n            animation: pulse 2s infinite;\n          }\n          \n          @keyframes pulse {\n            0% {\n              box-shadow: 0 0 0 0 rgba(46, 139, 87, 0.7);\n            }\n            70% {\n              box-shadow: 0 0 0 10px rgba(46, 139, 87, 0);\n            }\n            100% {\n              box-shadow: 0 0 0 0 rgba(46, 139, 87, 0);\n            }\n          }\n          \n          .company-info h1 {\n            font-size: 2.5rem;\n            font-weight: 700;\n            margin: 0 0 8px 0;\n            color: white;\n          }\n          \n          .company-info p {\n            font-size: 1.1rem;\n            color: #bdc3c7;\n            margin: 0;\n          }\n          \n          .system-description {\n            margin: 40px 0;\n            font-size: 1.1rem;\n            line-height: 1.6;\n            color: #ecf0f1;\n          }\n          \n          .stats-container {\n            display: flex;\n            gap: 40px;\n            margin-top: 40px;\n            animation: fadeInUp 1s ease-out 0.6s both;\n          }\n          \n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(30px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .stat-item {\n            text-align: left;\n          }\n          \n          .stat-number {\n            font-size: 2.5rem;\n            font-weight: 700;\n            color: #3498db;\n            margin-bottom: 8px;\n            animation: countUp 2s ease-out 1s both;\n          }\n          \n          @keyframes countUp {\n            from {\n              opacity: 0;\n              transform: scale(0.5);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n          \n          .stat-label {\n            font-size: 1rem;\n            color: #bdc3c7;\n          }\n          \n          .right-panel {\n            flex: 1;\n            background: #f8f9fa;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 40px;\n            animation: slideInRight 1s ease-out;\n          }\n          \n          @keyframes slideInRight {\n            from {\n              opacity: 0;\n              transform: translateX(50px);\n            }\n            to {\n              opacity: 1;\n              transform: translateX(0);\n            }\n          }\n          \n          .login-form-container {\n            width: 100%;\n            max-width: 400px;\n            background: white;\n            padding: 50px 40px;\n            border-radius: 12px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n            animation: zoomIn 0.8s ease-out 0.2s both;\n            transform-origin: center;\n          }\n          \n          @keyframes zoomIn {\n            from {\n              opacity: 0;\n              transform: scale(0.9);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n          \n          .form-header {\n            text-align: center;\n            margin-bottom: 40px;\n          }\n          \n          .form-title {\n            font-size: 1.8rem;\n            font-weight: 600;\n            color: #2c3e50;\n            margin-bottom: 8px;\n          }\n          \n          .form-subtitle {\n            color: #7f8c8d;\n            font-size: 0.95rem;\n          }\n          \n          .input-group {\n            margin-bottom: 20px;\n          }\n          \n          .input-label {\n            display: block;\n            font-size: 14px;\n            font-weight: 500;\n            color: #2c3e50;\n            margin-bottom: 6px;\n          }\n          \n          .input-wrapper {\n            position: relative;\n          }\n          \n          .form-input {\n            width: 100%;\n            padding: 16px 50px 16px 50px;\n            border: 1px solid #e1e8ed;\n            border-radius: 6px;\n            font-size: 16px;\n            transition: all 0.3s ease;\n            background: white;\n            box-sizing: border-box;\n            animation: slideUp 0.6s ease-out;\n          }\n          \n          @keyframes slideUp {\n            from {\n              opacity: 0;\n              transform: translateY(10px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .form-input:focus {\n            outline: none;\n            border-color: #3498db;\n            background: white;\n            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.15);\n          }\n          \n          .form-input::placeholder {\n            color: #a0a6b1;\n            font-size: 15px;\n          }\n          \n          .input-icon-left {\n            position: absolute;\n            left: 16px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0a6b1;\n            font-size: 18px;\n          }\n          \n          .input-icon-right {\n            position: absolute;\n            right: 16px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0a6b1;\n            font-size: 18px;\n          }\n          \n          .password-toggle {\n            cursor: pointer;\n            transition: color 0.3s ease;\n          }\n          \n          .password-toggle:hover {\n            color: #3498db;\n          }\n          \n          .login-btn {\n            width: 100%;\n            padding: 15px;\n            background: #2c3e50;\n            border: none;\n            border-radius: 8px;\n            color: white;\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            margin-bottom: 25px;\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .login-btn:hover {\n            background: #34495e;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(44, 62, 80, 0.3);\n          }\n          \n          .login-btn:active {\n            transform: translateY(0);\n            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.2);\n          }\n          \n          .login-btn::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n            transition: left 0.5s;\n          }\n          \n          .login-btn:hover::before {\n            left: 100%;\n          }\n          \n          .login-btn:disabled {\n            background: #95a5a6;\n            cursor: not-allowed;\n            transform: none;\n            box-shadow: none;\n          }\n          \n          .login-btn:disabled:hover {\n            background: #95a5a6;\n            transform: none;\n            box-shadow: none;\n          }\n          \n          .spinner {\n            width: 20px;\n            height: 20px;\n            border: 2px solid #ffffff;\n            border-top: 2px solid transparent;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            display: inline-block;\n            margin-right: 8px;\n          }\n          \n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .demo-accounts {\n            background: #e8f4fd;\n            border-radius: 8px;\n            padding: 20px;\n            margin-top: 25px;\n          }\n          \n          .demo-title {\n            font-size: 0.9rem;\n            font-weight: 600;\n            color: #2980b9;\n            margin-bottom: 12px;\n          }\n          \n          .demo-account {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 8px 0;\n            border-bottom: 1px solid #d5e8f7;\n            font-size: 0.85rem;\n          }\n          \n          .demo-account:last-child {\n            border-bottom: none;\n          }\n          \n          .demo-role {\n            font-weight: 500;\n            color: #2c3e50;\n          }\n          \n          .demo-creds {\n            color: #7f8c8d;\n            font-family: 'Courier New', monospace;\n          }\n          \n          .register-link {\n            text-align: center;\n            margin-top: 20px;\n            font-size: 0.9rem;\n            color: #7f8c8d;\n          }\n          \n          .register-link a {\n            color: #3498db;\n            text-decoration: none;\n            font-weight: 500;\n          }\n          \n          .register-link a:hover {\n            text-decoration: underline;\n          }\n          \n          .error-alert {\n            background: #fdf2f2;\n            border: 1px solid #f5c6cb;\n            color: #721c24;\n            padding: 12px;\n            border-radius: 6px;\n            margin-bottom: 20px;\n            font-size: 0.9rem;\n          }\n          \n          @media (max-width: 768px) {\n            .split-login-container {\n              flex-direction: column;\n            }\n            \n            .left-panel {\n              padding: 40px 20px;\n              min-height: 40vh;\n            }\n            \n            .stats-container {\n              flex-direction: column;\n              gap: 20px;\n            }\n            \n            .right-panel {\n              padding: 20px;\n            }\n          }\n        "}),this.state.done?Object(_.jsx)(c.a,{to:"/"}):null,Object(_.jsxs)("div",{className:"left-panel",children:[Object(_.jsxs)("div",{className:"company-logo",children:[Object(_.jsx)("div",{className:"logo-icon",children:Object(_.jsx)("i",{className:"fas fa-flag"})}),Object(_.jsxs)("div",{className:"company-info",children:[Object(_.jsx)("h1",{children:"HRMS Tanzania"}),Object(_.jsx)("p",{children:"Human Resource Management System"})]})]}),Object(_.jsx)("div",{className:"system-description",children:"Streamline your human resource operations with our comprehensive HRMS solution. Manage employees, departments, payroll, and applications across all organizational levels with ease."}),Object(_.jsxs)("div",{className:"stats-container",children:[Object(_.jsxs)("div",{className:"stat-item",children:[Object(_.jsx)("div",{className:"stat-number",children:"50+"}),Object(_.jsx)("div",{className:"stat-label",children:"Employees"})]}),Object(_.jsxs)("div",{className:"stat-item",children:[Object(_.jsx)("div",{className:"stat-number",children:"5"}),Object(_.jsx)("div",{className:"stat-label",children:"Departments"})]})]})]}),Object(_.jsx)("div",{className:"right-panel",children:Object(_.jsxs)("div",{className:"login-form-container",children:[Object(_.jsxs)("div",{className:"form-header",children:[Object(_.jsx)("h2",{className:"form-title",children:"Welcome Back"}),Object(_.jsx)("p",{className:"form-subtitle",children:"Sign in to access your dashboard"})]}),this.state.hasError&&Object(_.jsx)("div",{className:"error-alert",children:this.state.errorMessage}),Object(_.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{className:"input-label",children:"Username"}),Object(_.jsxs)("div",{className:"input-wrapper",children:[Object(_.jsx)("i",{className:"fas fa-envelope input-icon-left"}),Object(_.jsx)("input",{type:"text",className:"form-input",name:"username",placeholder:"Enter your username",value:this.state.username,onChange:this.onChange,required:!0})]})]}),Object(_.jsxs)("div",{className:"input-group",children:[Object(_.jsx)("label",{className:"input-label",children:"Password"}),Object(_.jsxs)("div",{className:"input-wrapper",children:[Object(_.jsx)("i",{className:"fas fa-lock input-icon-left"}),Object(_.jsx)("input",{type:"password",className:"form-input",name:"password",id:"password",placeholder:"Enter your password",value:this.state.password,onChange:this.onChange,required:!0}),Object(_.jsx)("i",{className:"fas ".concat(this.state.passwordShow?"fa-eye":"fa-eye-slash"," input-icon-right password-toggle"),onClick:this.passwordVisibilityHandler})]})]}),Object(_.jsx)("button",{type:"submit",className:"login-btn",disabled:this.state.isLoading,children:this.state.isLoading?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"spinner"}),"Signing In..."]}):"Sign In"})]}),Object(_.jsxs)("div",{className:"demo-accounts",children:[Object(_.jsx)("div",{className:"demo-title",children:"Demo Accounts"}),Object(_.jsxs)("div",{className:"demo-account",children:[Object(_.jsx)("span",{className:"demo-role",children:"Owner"}),Object(_.jsx)("span",{className:"demo-creds",children:"owner123"})]}),Object(_.jsxs)("div",{className:"demo-account",children:[Object(_.jsx)("span",{className:"demo-role",children:"Admin"}),Object(_.jsx)("span",{className:"demo-creds",children:"admin123"})]})]}),Object(_.jsxs)("div",{className:"register-link",children:["Don't have an account? ",Object(_.jsx)("a",{href:"/register",children:"Create one"})]})]})})]})}}class ut extends s.Component{constructor(e){super(e),this.fetchData=()=>{const e=C().filter(e=>e.departmentId==this.state.selectedDepartment).map(e=>Object(d.a)(Object(d.a)({},e),{},{startDate:q()(e.startDate).format("YYYY-MM-DD"),endDate:q()(e.endDate).format("YYYY-MM-DD")}));this.setState({jobs:e})},this.fetchDataAll=()=>{const e=C().map(e=>Object(d.a)(Object(d.a)({},e),{},{startDate:q()(e.startDate).format("YYYY-MM-DD"),endDate:q()(e.endDate).format("YYYY-MM-DD")}));this.setState({jobs:e})},this.pushSelectItems=()=>{let e=[];return e.push(Object(_.jsx)("option",{value:"all",children:"All departments"},584390)),this.state.departments.map((t,a)=>{this.state.selectedDepartment,t.id,e.push(Object(_.jsx)("option",{value:t.id,defaultValue:!0,children:t.departmentName},a))}),e},this.handleChange=e=>{this.setState({selectedDepartment:e.target.value},()=>{"all"===this.state.selectedDepartment?this.fetchDataAll():this.fetchData()})},this.addJob=()=>{this.setState({showAddModel:!0})},this.state={departments:[],selectedDepartment:null,selectedJob:null,jobs:[],showEditModel:!1,showAddModel:!1,showDeleteModel:!1}}componentDidMount(){this.props.location.state&&this.setState({selectedDepartment:this.props.location.state.selectedDepartment});const e=D();this.setState({departments:e},()=>{this.state.selectedDepartment&&this.fetchData()})}onEdit(e){return t=>{t.preventDefault(),this.setState({selectedJob:e,showEditModel:!0})}}onDelete(e){return t=>{t.preventDefault(),this.setState({selectedJob:e},()=>{this.setState({showDeleteModel:!0})})}}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsxs)("div",{className:"container-fluid pt-2",children:[Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"secondary-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"required",children:"Select Department"})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(ye.a.Text,{children:Object(_.jsxs)("select",{className:"select-css",value:this.state.selectedDepartment||"",onChange:this.handleChange,children:[Object(_.jsx)("option",{value:"",children:"Choose one..."}),this.pushSelectItems()]})})})]})})}),Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)("div",{className:"col-sm-12",children:[Object(_.jsx)("h4",{children:Object(_.jsx)("a",{className:"fa fa-plus mb-2 ml-2",onClick:this.addJob,style:{color:"blue",cursor:"pointer"},children:"Add Job"})}),Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Job List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"JOB ID",field:"id"},{title:"Job Title",field:"jobTitle"},{title:"Employee",field:"user.fullName"},{title:"Start Date",field:"startDate"},{title:"End Date",field:"endDate"},{title:"State",field:"endDate",render:e=>new Date(e.startDate).setHours(0)>new Date?Object(_.jsx)(Ie.a,{variant:"warning",children:"Future Job"}):new Date(e.endDate).setHours(24)>=new Date?Object(_.jsx)(Ie.a,{variant:"success",children:"Current Job"}):Object(_.jsx)(Ie.a,{variant:"danger",children:"Old Job"}),cellStyle:{paddingLeft:30,paddingRight:50},headerStyle:{paddingLeft:30,paddingRight:30}},{title:"Action",render:e=>Object(_.jsxs)(U.a,{className:"row",children:[Object(_.jsx)("div",{className:"col pl-5",children:Object(_.jsxs)(J.a,{size:"sm",variant:"info",onClick:this.onEdit(e),children:[Object(_.jsx)("i",{className:"fas fa-edit"}),"Edit"]})}),Object(_.jsx)("div",{className:"col pr-5",children:Object(_.jsxs)(J.a,{onClick:this.onDelete(e),size:"sm",variant:"danger",children:[Object(_.jsx)("i",{className:"fas fa-trash"}),"Delete"]})})]})}],data:this.state.jobs,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:8,pageSizeOptions:[5,10,20,30,50,75,100]},title:this.selectedUser?this.selectedUser.fullName:""})})})]}),this.state.showEditModel?Object(_.jsx)(Ze,{show:!0,onHide:()=>this.setState({showEditModel:!1}),data:this.state.selectedJob}):this.state.showAddModel?Object(_.jsx)($e,{show:!0,onHide:()=>this.setState({showAddModel:!1})}):this.state.showDeleteModel?Object(_.jsx)(Ke,{show:!0,onHide:()=>this.setState({showDeleteModel:!1}),data:this.state.selectedJob}):Object(_.jsx)(_.Fragment,{})]})})]})}}class xt extends s.Component{constructor(e){super(e),this.state={department:null,selectedJob:null,jobs:[],showEditModel:!1,showAddModel:!1,showDeleteModel:!1}}componentDidMount(){this.props.location.state&&this.setState({selectedDepartment:this.props.location.state.selectedDepartment});let e=JSON.parse(localStorage.getItem("user")).departmentId;const t=S(),a=(D(),t.filter(t=>t.departmentId==e));let s=[];a.forEach(e=>{e.jobs&&e.jobs.forEach((t,a)=>{const n=Object(d.a)(Object(d.a)({},t),{},{startDate:q()(t.startDate).format("YYYY-MM-DD"),endDate:q()(t.endDate).format("YYYY-MM-DD"),user:{fullName:e.fullName||"".concat(e.firstName," ").concat(e.lastName)}});s.push(n)})}),this.setState({jobs:s})}render(){const e=Object(ke.a)({overrides:{MuiTableCell:{root:{padding:"6px 6px 6px 6px"}}}});return Object(_.jsx)("div",{className:"container-fluid pt-2",children:Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"col-sm-12",children:Object(_.jsxs)(ye.a,{className:"main-card",children:[Object(_.jsx)(ye.a.Header,{children:Object(_.jsx)("div",{className:"panel-title",children:Object(_.jsx)("strong",{children:"Job List"})})}),Object(_.jsx)(ye.a.Body,{children:Object(_.jsx)(Ee.a,{theme:e,children:Object(_.jsx)(Ae.a,{columns:[{title:"JOB ID",field:"id"},{title:"Job Title",field:"jobTitle"},{title:"Employee",field:"user.fullName"},{title:"Start Date",field:"startDate"},{title:"End Date",field:"endDate"},{title:"State",field:"endDate",render:e=>new Date(e.startDate).setHours(0)>new Date?Object(_.jsx)(Ie.a,{variant:"warning",children:"Future Job"}):new Date(e.endDate).setHours(24)>=new Date?Object(_.jsx)(Ie.a,{variant:"success",children:"Current Job"}):Object(_.jsx)(Ie.a,{variant:"danger",children:"Old Job"}),cellStyle:{paddingLeft:30,paddingRight:50},headerStyle:{paddingLeft:30,paddingRight:30}}],data:this.state.jobs,options:{rowStyle:(e,t)=>{if(t%2)return{backgroundColor:"#f2f2f2"}},pageSize:8,pageSizeOptions:[5,10,20,30,50,75,100]},title:this.selectedUser?this.selectedUser.fullName:""})})})]})})})})}}class Ot extends s.Component{componentDidMount(){w()}render(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.a,{children:Object(_.jsxs)(c.d,{children:[Object(_.jsx)(c.b,{exact:!0,path:"/login",component:ft}),Object(_.jsx)(c.b,{exact:!0,path:"/register",component:gt}),Object(_.jsx)(c.b,{path:"/",component:bt(Nt)})]})}),Object(_.jsx)(o.a,{})]})}}const ft=()=>Object(_.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",height:"600px"},children:[Object(_.jsx)(c.b,{exact:!0,path:"/",render:()=>Object(_.jsx)(c.a,{to:"/login"})}),Object(_.jsx)(c.b,{path:"/login",component:pt})]}),gt=()=>Object(_.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",height:"600px"},children:[Object(_.jsx)(c.b,{exact:!0,path:"/",render:()=>Object(_.jsx)(c.a,{to:"/register"})}),Object(_.jsx)(c.b,{path:"/register",component:jt})]}),Nt=()=>{const e=JSON.parse(localStorage.getItem("user")||"{}").role;return Object(_.jsx)("div",{children:"admin"===e?yt():"manager"===e?vt():"employee"===e?wt():null})},yt=()=>Object(_.jsxs)("div",{children:[Object(_.jsx)(V,{}),Object(_.jsx)(Z,{}),Object(_.jsx)(Ce,{children:Object(_.jsxs)(c.d,{children:[Object(_.jsx)(c.b,{exact:!0,path:"/",component:bt(ue)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-list",component:bt(Le)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-add",component:bt(Ge)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-view",component:bt(Be)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-edit",component:bt(Ue)}),Object(_.jsx)(c.b,{exact:!0,path:"/departments",component:bt(_e)}),Object(_.jsx)(c.b,{exact:!0,path:"/job-list",component:bt(ut)}),Object(_.jsx)(c.b,{exact:!0,path:"/application-list",component:bt(ze)}),Object(_.jsx)(c.b,{exact:!0,path:"/application",component:bt(Xe)}),Object(_.jsx)(c.b,{exact:!0,path:"/salary-details",component:bt(Qe)}),Object(_.jsx)(c.b,{exact:!0,path:"/salary-list",component:bt(et)}),Object(_.jsx)(c.b,{exact:!0,path:"/salary-view",component:bt(tt)}),Object(_.jsx)(c.b,{exact:!0,path:"/payment",component:bt(nt)}),Object(_.jsx)(c.b,{exact:!0,path:"/expense",component:bt(rt)}),Object(_.jsx)(c.b,{exact:!0,path:"/expense-report",component:bt(lt)}),Object(_.jsx)(c.b,{exact:!0,path:"/announcement",component:bt(ot)}),Object(_.jsx)(c.b,{exact:!0,path:"/profile",component:bt(mt)}),Object(_.jsx)(c.b,{exact:!0,path:"/register",component:jt}),Object(_.jsx)(c.b,{exact:!0,path:"/login",component:pt})]})}),Object(_.jsx)(W,{})]}),vt=()=>Object(_.jsxs)("div",{children:[Object(_.jsx)(V,{}),Object(_.jsx)(K,{}),Object(_.jsx)(Ce,{children:Object(_.jsxs)(c.d,{children:[Object(_.jsx)(c.b,{exact:!0,path:"/",component:bt(fe)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-list",component:bt(Pe)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-view",component:bt(He)}),Object(_.jsx)(c.b,{exact:!0,path:"/job-list",component:bt(xt)}),Object(_.jsx)(c.b,{exact:!0,path:"/application-list",component:bt(Ve)}),Object(_.jsx)(c.b,{exact:!0,path:"/application",component:bt(Xe)}),Object(_.jsx)(c.b,{exact:!0,path:"/expense",component:bt(it)}),Object(_.jsx)(c.b,{exact:!0,path:"/salary-view",component:bt(at)}),Object(_.jsx)(c.b,{exact:!0,path:"/expense-report",component:bt(ct)}),Object(_.jsx)(c.b,{exact:!0,path:"/announcement",component:bt(dt)}),Object(_.jsx)(c.b,{exact:!0,path:"/profile",component:bt(mt)}),Object(_.jsx)(c.b,{exact:!0,path:"/register",component:jt}),Object(_.jsx)(c.b,{exact:!0,path:"/login",component:pt})]})}),Object(_.jsx)(W,{})]}),wt=()=>Object(_.jsxs)("div",{children:[Object(_.jsx)(V,{}),Object(_.jsx)(Q,{}),Object(_.jsx)(Ce,{children:Object(_.jsxs)(c.d,{children:[Object(_.jsx)(c.b,{exact:!0,path:"/",component:bt(De)}),Object(_.jsx)(c.b,{exact:!0,path:"/employee-view",component:bt(Fe)}),Object(_.jsx)(c.b,{exact:!0,path:"/application-list",component:bt(We)}),Object(_.jsx)(c.b,{exact:!0,path:"/application",component:bt(Xe)}),Object(_.jsx)(c.b,{exact:!0,path:"/salary-view",component:bt(st)}),Object(_.jsx)(c.b,{exact:!0,path:"/announcement",component:bt(ht)}),Object(_.jsx)(c.b,{exact:!0,path:"/profile",component:bt(mt)}),Object(_.jsx)(c.b,{exact:!0,path:"/register",component:jt}),Object(_.jsx)(c.b,{exact:!0,path:"/login",component:pt})]})}),Object(_.jsx)(W,{})]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(Ot,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[737,1,2]]]);
//# sourceMappingURL=main.2b4a9553.chunk.js.map